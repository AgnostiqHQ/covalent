{"version":3,"sources":["utils/api.js","redux/resultsSlice.js","components/CopyButton.js","utils/theme.js","utils/misc.js","components/results/Runtime.js","components/results/ResultProgress.js","components/results/ResultListing.js","assets/covalent-full-logo.svg","components/Dashboard.js","assets/atom.svg","components/graph/ElectronNode.js","components/graph/ParameterNode.js","components/graph/DirectedEdge.js","components/graph/Layout.js","components/result/LatticeControls.js","components/result/LatticeMain.js","components/SyntaxHighlighter.js","components/result/Heading.js","components/result/LatticeOverview.js","components/LogOutput.js","components/result/LatticeDrawer.js","components/result/NodeDrawer.js","components/result/ResultLayout.js","utils/demo.js","utils/socket.js","App.js","redux/reducers.js","index.js","redux/store.js"],"names":["API","axios","create","baseURL","process","interceptors","response","use","data","error","Promise","reject","message","fetchResult","createAsyncThunk","thunkAPI","resultsDir","dispatchId","api","get","params","catch","rejectWithValue","resultsSlice","createSlice","name","initialState","cache","isFetching","reducers","removeResult","state","dispatchIds","payload","extraReducers","builder","addCase","fulfilled","dispatch_id","pending","rejected","actions","CopyButton","content","title","props","useState","copied","setCopied","Tooltip","placement","IconButton","onClick","copy","setTimeout","sx","color","CheckRounded","fontSize","ContentCopyRounded","LinkBehavior","React","forwardRef","ref","href","to","defaultTheme","createTheme","typography","fontFamily","palette","mode","primary","main","secondary","background","default","paper","success","warning","text","theme","components","MuiLink","defaultProps","component","MuiButtonBase","LinkComponent","MuiCssBaseline","styleOverrides","body","scrollbarColor","backgroundColor","height","width","borderRadius","minHeight","formatDate","date","_","isString","parseISO","isValid","format","truncateMiddle","s","start","end","omission","len","length","slice","isParameter","node","startsWith","statusColor","status","RUNNING","COMPLETED","FAILED","humanize","humanizeDuration","humanizer","largest","round","delimiter","spacer","units","language","languages","shortEn","y","mo","w","d","h","m","ms","parseDate","RuntimeConst","startTime","endTime","diffMs","differenceInMilliseconds","Typography","RuntimeTicker","Date","now","setNow","useEffect","intervalId","setInterval","clearInterval","Runtime","STATUS_COLORS","CANCELLED","selectResultProgress","createSelector","results","result","reduce","progress","total","completed","label","startCase","lowerCase","ResultProgress","useSelector","Box","display","alignItems","mr","LinearProgress","variant","value","minWidth","selectNormQuery","query","trim","selectItems","map","selectSearchIndex","items","Fuse","includeMatches","threshold","ignoreLocation","keys","weight","selectSearchResults","index","normQuery","search","selectResults","item","headers","id","getter","sortable","ResultsTableHead","order","orderBy","onSort","onSelectAllClick","numSelected","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","header","TableSortLabel","active","direction","ResultsTableToolbar","setQuery","onDeleteSelected","Toolbar","disableGutters","mb","Delete","Paper","ml","px","py","maxWidth","Input","disableUnderline","placeholder","onChange","event","target","startAdornment","InputAdornment","position","Search","endAdornment","visibility","size","Clear","StyledTable","styled","Table","tableCellClasses","head","tableSortLabelClasses","tableBodyClasses","root","tableRowClasses","borderColor","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","ResultListing","dispatch","useDispatch","setOrder","selected","setSelected","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","runningResults","filter","each","results_dir","find","rows","chain","lastPage","Math","ceil","min","TableContainer","headerId","TableBody","isSelected","includes","start_time","end_time","hover","without","concat","handleChangeSelection","Link","underline","className","isEmpty","my","textAlign","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","_ref7","_ref8","x","rx","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","x1","y1","x2","y2","gradientUnits","stopColor","offset","SvgCovalentFullLogo","_ref","svgRef","titleId","viewBox","xmlns","ForwardRef","selectLatestResult","values","maxBy","selectDispatcherAddress","latestResult","address","Dashboard","dispatcherAddress","AppBar","Container","p","clipPath","transform","SvgAtom","ElectronTooltip","classes","popper","tooltipClasses","tooltip","ElectronNode","type","sourcePosition","targetPosition","isConnectable","hasBorder","fullName","arrow","bgcolor","borderStyle","borderWidth","inputs","SvgIcon","Check","WarningAmber","outputs","ParameterNode","DirectedEdge","labelBgStyle","labelStyle","arrowHeadType","mapGraphToElements","graph","showParams","nodePredicate","nodes","nodeSet","Set","links","has","filterGraph","countEdges","handlePositions","getHandlePositions","isParam","String","truncate","edges","edge","variable","lineHeight","body1","nodeHeight","edgeWidth","edgeHeight","assignNodePositions","elements","dagreGraph","dagre","graphlib","Graph","setDefaultEdgeLabel","setGraph","rankdir","nodesep","ranksep","el","isNode","setNode","setEdge","layout","e","Error","nodeId","res","Hint","LatticeControls","toggleParams","showMinimap","toggleMinimap","setDirection","nodesDraggable","toggleNodesDraggable","useZoomPanHelper","zoomIn","zoomOut","fitView","ToggleButtonGroup","orientation","bottom","left","zIndex","opacity","ToggleButton","Fullscreen","MapOutlined","TB","ArrowDownward","BT","ArrowUpward","LR","ArrowForward","RL","ArrowBack","LockOpenOutlined","LockOutlined","LatticeMain","hasSelectedNode","useParams","setElements","setShowMinimap","setShowParams","setNodesDraggable","resizeHandler","window","addEventListener","removeEventListener","nodeTypes","electron","parameter","edgeTypes","directed","nodesConnectable","selectNodesOnDrag","style","maskColor","nodeColor","Light","registerLanguage","python","SyntaxHighlighter","src","customStyle","margin","maxHeight","Heading","mt","ExecutorSection","metadata","executorType","executorParams","omitBy","v","overflowX","whiteSpace","pb","InputSection","inputSrc","join","elevation","LatticeOverview","showResult","hasStarted","hasEnded","lattice","doc","overflowWrap","Divider","TailFile","path","isRunning","isStdErr","lines","setLines","bottomRef","useRef","current","scrollIntoView","behavoir","fetchLog","n","then","overflow","line","LogOutput","logs","executor","logType","set","Map","entries","CustomTabList","TabList","textTransform","LatticeStatusCard","gridTemplateColumns","CircularProgress","CheckCircleOutline","CancelOutlined","showElectron","ErrorCard","border","LatticeDrawer","tab","setTab","ChevronLeft","AccountTreeOutlined","mx","TabContext","newTab","Tab","TabPanel","NodeDrawer","setSelectedElements","useStoreActions","handleClose","Drawer","flexShrink","boxSizing","anchor","open","onClose","justifyContent","Close","NEW_OBJECT","output","kwargs","ResultLayout","selectedElectron","useStoreState","selectedElements","latticeDrawerOpen","setLatticeDrawerOpen","handleLatticeDrawerToggle","md","ModalProps","keepMounted","xs","flexGrow","marginRight","Menu","isDemo","toLower","REACT_APP_DEMO","demoEnhancer","createStore","reducer","enhancer","demoState","function_string","initial_height","distance","backend","dispatcher","log_stdout","log_stderr","conda_env","cache_dir","current_env_on_conda_fail","current_env","sublattice_result","stdout","stderr","exec_plan","selected_executor","execution_args","schedule","num_cpu","cpu_feature_set","num_gpu","gpu_type","gpu_compute_capability","memory","time_limit","budget","system","unit_cell","vacuum","slab","molecule","arg_1","arg_2","keyBy","socket","on","off","io","withCredentials","console","debug","connected","connect","App","onUpdate","update","ThemeProvider","CssBaseline","defaultTitle","titleTemplate","element","preloadedState","store","configureStore","rootReducer","enhancers","persistState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c72e243.chunk.js","sourcesContent":["/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport axios from 'axios'\n\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n})\n\nAPI.interceptors.response.use(\n  // unwrap response data\n  ({ data }) => data,\n\n  // catch statusCode != 200 responses and format error\n  (error) => {\n    if (error.response) {\n      return Promise.reject(error.response.data)\n    }\n    return Promise.reject({ message: error.message })\n  }\n)\n\nexport default API\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\n\nimport api from '../utils/api'\n\nconst initialState = {\n  // results cache mapped by dispatch id\n  cache: {\n    // [dispatchId]: {<result object>}\n  },\n\n  // request status\n  fetchResult: { isFetching: false, error: null },\n}\n\nexport const fetchResult = createAsyncThunk(\n  'results/fetchResult',\n  ({ resultsDir, dispatchId }, thunkAPI) => {\n    return api\n      .get(`/api/results/${dispatchId}`, { params: { resultsDir } })\n      .catch(thunkAPI.rejectWithValue)\n  }\n)\n\nexport const resultsSlice = createSlice({\n  name: 'results',\n  initialState,\n  reducers: {\n    removeResult(state, { payload: dispatchIds }) {\n      for (const dispatchId of dispatchIds) {\n        delete state.cache[dispatchId]\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // fetchResult\n      .addCase(fetchResult.fulfilled, (state, { payload }) => {\n        state.fetchResult.isFetching = false\n        // update results cache\n        state.cache[payload.dispatch_id] = payload\n      })\n      .addCase(fetchResult.pending, (state, { payload }) => {\n        state.fetchResult.isFetching = true\n        state.fetchResult.error = null\n      })\n      .addCase(fetchResult.rejected, (state, { payload }) => {\n        state.fetchResult.isFetching = false\n        state.fetchResult.error = payload.message\n      })\n  },\n})\n\nexport const { removeResult } = resultsSlice.actions\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { useState } from 'react'\nimport copy from 'copy-to-clipboard'\nimport { IconButton, Tooltip } from '@mui/material'\nimport { ContentCopyRounded, CheckRounded } from '@mui/icons-material'\n\nconst CopyButton = ({ content, title = 'Copy', ...props }) => {\n  const [copied, setCopied] = useState(false)\n\n  return (\n    <Tooltip title={copied ? 'Copied!' : title} placement=\"right\">\n      <IconButton\n        onClick={() => {\n          copy(content)\n          setCopied(true)\n          setTimeout(() => setCopied(false), 1200)\n        }}\n        sx={{ color: 'text.secondary' }}\n        {...props}\n      >\n        {copied ? (\n          <CheckRounded fontSize=\"inherit\" />\n        ) : (\n          <ContentCopyRounded fontSize=\"inherit\" />\n        )}\n      </IconButton>\n    </Tooltip>\n  )\n}\n\nexport default CopyButton\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport React from 'react'\nimport { createTheme } from '@mui/material/styles'\nimport { Link as RouterLink } from 'react-router-dom'\n\nconst LinkBehavior = React.forwardRef(({ href, ...props }, ref) => {\n  // Map href (MUI) -> to (react-router)\n  return <RouterLink ref={ref} to={href} {...props} />\n})\n\nconst defaultTheme = createTheme({\n  typography: {\n    fontFamily: '\"Roboto Slab\", \"Helvetica\", \"Arial\", sans-serif',\n  },\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#99DAFF',\n    },\n    secondary: {\n      main: '#998AFF',\n    },\n    background: {\n      default: '#040406',\n      paper: '#101820',\n    },\n    error: {\n      main: '#E35050',\n    },\n    success: {\n      main: '#64F4D2',\n    },\n    warning: {\n      main: '#E39F50',\n    },\n    text: {\n      primary: '#FAFAFA',\n      secondary: '#BEBEBE',\n    },\n  },\n})\n\nconst theme = createTheme(defaultTheme, {\n  components: {\n    MuiLink: {\n      defaultProps: {\n        component: LinkBehavior,\n      },\n    },\n    MuiButtonBase: {\n      defaultProps: {\n        LinkComponent: LinkBehavior,\n      },\n    },\n    MuiCssBaseline: {\n      styleOverrides: {\n        body: {\n          // adapted from @mui/material/darkScrollbar\n          scrollbarColor: '#6b6b6b #2b2b2b',\n          '&::-webkit-scrollbar, & *::-webkit-scrollbar': {\n            backgroundColor: '#2b2b2b',\n            height: 6,\n            width: 6,\n          },\n          '&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb': {\n            borderRadius: 8,\n            backgroundColor: '#6b6b6b',\n            minHeight: 24,\n            // border: '2px solid #2b2b2b',\n          },\n          '&::-webkit-scrollbar-thumb:focus, & *::-webkit-scrollbar-thumb:focus':\n            {\n              backgroundColor: '#959595',\n            },\n          '&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active':\n            {\n              backgroundColor: '#959595',\n            },\n          '&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover':\n            {\n              backgroundColor: '#959595',\n            },\n          '&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner': {\n            backgroundColor: '#2b2b2b',\n          },\n        },\n      },\n    },\n    // MuiTabs: {\n    //   styleOverrides: {\n    //     root: {\n    //       '& .MuiTabs-indicator': {\n    //         backgroundColor: defaultTheme.palette.text.primary,\n    //         height: 1,\n    //       },\n    //     },\n    //   },\n    // },\n    // MuiTab: {\n    //   styleOverrides: {\n    //     root: {\n    //       textTransform: 'none',\n    //       '&.Mui-selected': {\n    //         color: defaultTheme.palette.text.primary,\n    //       },\n    //     },\n    //   },\n    // },\n  },\n})\n\nexport default theme\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { isValid, format, parseISO } from 'date-fns'\nimport theme from './theme'\n\nexport const formatDate = (date) => {\n  if (_.isString(date)) {\n    date = parseISO(date)\n  }\n  return isValid(date) ? format(date, 'MMM dd, HH:mm:ss') : '-'\n}\n\nexport const truncateMiddle = (s, start, end, omission = '') => {\n  if (!s) {\n    return ''\n  }\n  const len = s.length\n  if ((start === 0 && end === 0) || start + end >= len) {\n    return s\n  }\n  if (!end) {\n    return s.slice(0, start) + omission\n  }\n  return s.slice(0, start) + omission + s.slice(-end)\n}\n\nexport const isParameter = (node) => _.startsWith(node.name, ':parameter:')\n\nexport const statusColor = (status) => {\n  return {\n    RUNNING: theme.palette.primary.main,\n    COMPLETED: theme.palette.success.main,\n    FAILED: theme.palette.error.main,\n  }[status]\n}\n\nexport const statusLabel = (status) => {\n  return (\n    {\n      RUNNING: 'Running',\n      COMPLETED: 'Completed',\n      FAILED: 'Failed',\n      NEW_OBJECT: 'Pending',\n    }[status] || status\n  )\n}\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { Typography } from '@mui/material'\nimport { differenceInMilliseconds, isValid, parseISO } from 'date-fns'\nimport humanizeDuration from 'humanize-duration'\nimport { useEffect, useState } from 'react'\n\nconst humanize = humanizeDuration.humanizer({\n  largest: 3,\n  round: true,\n  delimiter: ' ',\n  spacer: '',\n  units: ['h', 'm', 's'],\n  language: 'shortEn',\n  languages: {\n    shortEn: {\n      y: () => 'y',\n      mo: () => 'mo',\n      w: () => 'w',\n      d: () => 'd',\n      h: () => 'h',\n      m: () => 'm',\n      s: () => 's',\n      ms: () => 'ms',\n    },\n  },\n})\n\nconst parseDate = (date) => (_.isString(date) ? parseISO(date) : date)\n\nconst Runtime = ({ startTime, endTime }) => {\n  startTime = parseDate(startTime)\n  endTime = parseDate(endTime)\n\n  if (!isValid(startTime)) {\n    return ''\n  }\n  if (!isValid(endTime)) {\n    return <RuntimeTicker startTime={startTime} />\n  }\n  return <RuntimeConst startTime={startTime} endTime={endTime} />\n}\n\nconst RuntimeConst = ({ startTime, endTime }) => {\n  const diffMs = differenceInMilliseconds(startTime, endTime)\n  return <Typography>{humanize(diffMs)}</Typography>\n}\n\nconst RuntimeTicker = ({ startTime }) => {\n  const [now, setNow] = useState(new Date())\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      setNow(new Date())\n    }, 1000)\n\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId)\n      }\n    }\n  })\n\n  return <RuntimeConst startTime={startTime} endTime={now} />\n}\n\nexport default Runtime\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { Box, LinearProgress, Tooltip, Typography } from '@mui/material'\nimport { createSelector } from '@reduxjs/toolkit'\nimport _ from 'lodash'\nimport { useSelector } from 'react-redux'\n\nimport { isParameter } from '../../utils/misc'\n\nconst STATUS_COLORS = {\n  RUNNING: 'primary',\n  COMPLETED: 'success',\n  FAILED: 'error',\n  CANCELLED: 'error',\n}\n\nexport const selectResultProgress = createSelector(\n  (state, dispatchId) => state.results.cache[dispatchId],\n  (result) => {\n    return _.reduce(\n      _.get(result, 'graph.nodes'),\n      (progress, node) => {\n        if (!isParameter(node)) {\n          progress.total++\n          progress.completed += node.status === 'COMPLETED' ? 1 : 0\n          // record first electron error\n          if (node.error && !progress.error) {\n            progress.error = `${node.name}: ${node.error}`\n          }\n        }\n        return progress\n      },\n      {\n        total: 0,\n        completed: 0,\n        status: result.status,\n        label: _.startCase(_.lowerCase(result.status)),\n        color: STATUS_COLORS[result.status],\n      }\n    )\n  }\n)\n\nconst ResultProgress = ({ dispatchId }) => {\n  const { completed, total, status, color } = useSelector((state) =>\n    selectResultProgress(state, dispatchId)\n  )\n\n  return (\n    <Tooltip title={status} placement=\"right\">\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n        <Box sx={{ width: '100%', mr: 1 }}>\n          <LinearProgress\n            variant=\"determinate\"\n            color={color}\n            value={(completed * 100) / total}\n          />\n        </Box>\n\n        <Box sx={{ minWidth: 35 }}>\n          <Typography variant=\"body2\" color={color}>\n            {completed}/{total}\n          </Typography>\n        </Box>\n      </Box>\n    </Tooltip>\n  )\n}\n\nexport default ResultProgress\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { parseISO } from 'date-fns'\nimport {\n  Table,\n  Link,\n  TableRow,\n  TableHead,\n  TableCell,\n  TableBody,\n  Typography,\n  Paper,\n  IconButton,\n  Input,\n  InputAdornment,\n  TableContainer,\n  TableSortLabel,\n  Tooltip,\n  Toolbar,\n  Checkbox,\n  Box,\n  styled,\n  tableCellClasses,\n  tableRowClasses,\n  tableBodyClasses,\n  tableSortLabelClasses,\n  TablePagination,\n} from '@mui/material'\nimport {\n  Clear as ClearIcon,\n  Delete as DeleteIcon,\n  Search as SearchIcon,\n} from '@mui/icons-material'\nimport Fuse from 'fuse.js'\nimport { createSelector } from '@reduxjs/toolkit'\n\nimport { fetchResult, removeResult } from '../../redux/resultsSlice'\nimport CopyButton from '../CopyButton'\nimport { formatDate } from '../../utils/misc'\nimport Runtime from './Runtime'\nimport ResultProgress from './ResultProgress'\n\nconst selectResultsCache = (state) => state.results.cache\nconst selectQuery = (state, query) => query\n\nconst selectNormQuery = createSelector(selectQuery, (query) => _.trim(query))\n\nconst selectItems = createSelector(selectResultsCache, (cache) => _.map(cache))\n\nconst selectSearchIndex = createSelector(selectItems, (items) => {\n  return new Fuse(items, {\n    includeMatches: true,\n    threshold: 0.4,\n    ignoreLocation: true,\n    keys: [\n      { name: 'dispatch_id', weight: 1 },\n      { name: 'lattice.name', weight: 1 },\n    ],\n  })\n})\n\n// search query is present\nconst selectSearchResults = createSelector(\n  selectSearchIndex,\n  selectNormQuery,\n  (index, normQuery) => index.search(normQuery)\n)\n\n// search query is empty: emulate search results format\nconst selectResults = createSelector(selectItems, (items) =>\n  _.map(items, (result) => ({\n    item: result,\n  }))\n)\n\nconst headers = [\n  {\n    id: 'dispatchId',\n    getter: 'dispatch_id',\n    label: 'Dispatch ID',\n  },\n  {\n    id: 'lattice',\n    getter: 'lattice.name',\n    label: 'Lattice',\n    sortable: true,\n  },\n  // {\n  //   id: 'resultsDir',\n  //   getter: 'results_dir',\n  //   label: 'Results directory',\n  //   sortable: true,\n  // },\n  {\n    id: 'runTime',\n    label: 'Runtime',\n  },\n  {\n    id: 'startTime',\n    getter: 'start_time',\n    label: 'Started',\n    sortable: true,\n  },\n  {\n    id: 'endTime',\n    getter: 'end_time',\n    label: 'Ended',\n    sortable: true,\n  },\n  {\n    id: 'status',\n    getter: 'status',\n    label: 'Status',\n    sortable: true,\n  },\n]\n\nconst ResultsTableHead = ({\n  order,\n  orderBy,\n  onSort,\n  onSelectAllClick,\n  numSelected,\n  total,\n}) => {\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < total}\n            checked={numSelected > 0 && numSelected === total}\n            onClick={onSelectAllClick}\n          />\n        </TableCell>\n\n        {_.map(headers, (header) => {\n          return (\n            <TableCell key={header.id}>\n              {header.sortable ? (\n                <TableSortLabel\n                  active={orderBy === header.id}\n                  direction={orderBy === header.id ? order : 'asc'}\n                  onClick={() => onSort(header.id)}\n                >\n                  {header.label}\n                </TableSortLabel>\n              ) : (\n                header.label\n              )}\n            </TableCell>\n          )\n        })}\n      </TableRow>\n    </TableHead>\n  )\n}\n\nconst ResultsTableToolbar = ({\n  query,\n  setQuery,\n  numSelected,\n  onDeleteSelected,\n}) => {\n  return (\n    <Toolbar disableGutters sx={{ mb: 1 }}>\n      {numSelected > 0 && (\n        <Typography>\n          {numSelected} selected\n          <Tooltip title=\"Delete selected\" placement=\"right\">\n            <IconButton onClick={onDeleteSelected}>\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        </Typography>\n      )}\n\n      <Paper sx={{ ml: 'auto', px: 1, py: 0.5, maxWidth: 240 }}>\n        <Input\n          disableUnderline\n          placeholder=\"Search\"\n          value={query}\n          onChange={(event) => {\n            setQuery(event.target.value)\n          }}\n          startAdornment={\n            <InputAdornment position=\"start\">\n              <SearchIcon sx={{ color: 'text.secondary', fontSize: 16 }} />\n            </InputAdornment>\n          }\n          endAdornment={\n            <InputAdornment\n              position=\"end\"\n              sx={{ visibility: !!query ? 'visible' : 'hidden' }}\n            >\n              <IconButton size=\"small\" onClick={() => setQuery('')}>\n                <ClearIcon\n                  fontSize=\"inherit\"\n                  sx={{ color: 'text.secondary' }}\n                />\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n      </Paper>\n    </Toolbar>\n  )\n}\n\nconst StyledTable = styled(Table)(({ theme }) => ({\n  // stripe every odd body row except on select and hover\n  [`& .MuiTableBody-root .MuiTableRow-root:nth-of-type(odd):not(.Mui-selected):not(:hover)`]:\n    {\n      backgroundColor: theme.palette.background.paper,\n    },\n\n  // subdue header text\n  [`& .${tableCellClasses.head}, & .${tableSortLabelClasses.active}`]: {\n    color: theme.palette.text.secondary,\n  },\n\n  // copy btn on hover\n  [`& .${tableBodyClasses.root} .${tableRowClasses.root}`]: {\n    '& .copy-btn': { visibility: 'hidden' },\n    '&:hover .copy-btn': { visibility: 'visible' },\n  },\n\n  // customize border\n  [`& .${tableCellClasses.root}`]: {\n    borderColor: theme.palette.background.default,\n  },\n  [`& .${tableCellClasses.root}:first-of-type`]: {\n    borderTopLeftRadius: 8,\n    borderBottomLeftRadius: 8,\n  },\n  [`& .${tableCellClasses.root}:last-of-type`]: {\n    borderTopRightRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n}))\n\nconst ResultListing = () => {\n  const dispatch = useDispatch()\n\n  const [query, setQuery] = useState('')\n  const [order, setOrder] = useState('desc')\n  const [selected, setSelected] = useState([])\n  const [orderBy, setOrderBy] = useState('startTime')\n  const [page, setPage] = useState(0)\n  const [rowsPerPage, setRowsPerPage] = useState(10)\n\n  const runningResults = useSelector((state) =>\n    _.filter(\n      state.results.cache,\n      (result) => _.get(result, 'status') === 'RUNNING'\n    )\n  )\n\n  const results = useSelector((state) =>\n    !selectNormQuery(state, query)\n      ? selectResults(state)\n      : selectSearchResults(state, query)\n  )\n\n  // refresh still-running results on first render\n  useEffect(() => {\n    _.each(runningResults, (result) => {\n      dispatch(\n        fetchResult({\n          dispatchId: result.dispatch_id,\n          resultsDir: result.results_dir,\n        })\n      )\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch])\n\n  const getter = _.get(_.find(headers, { id: orderBy }), 'getter')\n  const rows = _.chain(results)\n    .orderBy(({ item }) => _.get(item, getter), order)\n    .slice(page * rowsPerPage, (page + 1) * rowsPerPage)\n    .value()\n\n  const handleChangeSort = (headerId) => {\n    const isAsc = orderBy === headerId && order === 'asc'\n    setOrder(isAsc ? 'desc' : 'asc')\n    setOrderBy(headerId)\n  }\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage)\n  }\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value))\n    setPage(0)\n  }\n  const handleChangeSelection = (dispatchId) => {\n    if (_.includes(selected, dispatchId)) {\n      setSelected(_.without(selected, dispatchId))\n    } else {\n      setSelected(_.concat(selected, dispatchId))\n    }\n  }\n  const handleDeleteSelected = () => {\n    dispatch(removeResult(selected))\n    // move to last page if necessary\n    const lastPage =\n      Math.ceil((_.size(results) - _.size(selected)) / rowsPerPage) - 1\n    setPage(Math.min(page, lastPage))\n    setSelected([])\n  }\n\n  const handleSelectAllClick = () => {\n    if (_.size(selected) < _.size(results)) {\n      setSelected(_.map(results, 'item.dispatch_id'))\n    } else {\n      setSelected([])\n    }\n  }\n\n  return (\n    <>\n      <Box>\n        <ResultsTableToolbar\n          query={query}\n          setQuery={setQuery}\n          numSelected={_.size(selected)}\n          onDeleteSelected={handleDeleteSelected}\n        />\n\n        <TableContainer>\n          <StyledTable>\n            <ResultsTableHead\n              order={order}\n              orderBy={orderBy}\n              numSelected={_.size(selected)}\n              total={_.size(results)}\n              onSort={handleChangeSort}\n              onSelectAllClick={handleSelectAllClick}\n            />\n\n            <TableBody>\n              {_.map(rows, ({ item: result }) => {\n                const dispatchId = result.dispatch_id\n                const isSelected = _.includes(selected, dispatchId)\n                const startTime = parseISO(result.start_time)\n                const endTime = parseISO(result.end_time)\n\n                return (\n                  <TableRow hover key={dispatchId} selected={isSelected}>\n                    <TableCell padding=\"checkbox\">\n                      <Checkbox\n                        checked={isSelected}\n                        onClick={() => handleChangeSelection(dispatchId)}\n                      />\n                    </TableCell>\n\n                    <TableCell>\n                      <Link underline=\"none\" href={`/${dispatchId}`}>\n                        {dispatchId}\n                      </Link>\n\n                      <CopyButton\n                        content={dispatchId}\n                        size=\"small\"\n                        className=\"copy-btn\"\n                        title=\"Copy ID\"\n                      />\n                    </TableCell>\n\n                    <TableCell>{_.get(result, 'lattice.name')}</TableCell>\n\n                    {/* <TableCell>\n                      <Tooltip title={result.results_dir}>\n                        <Box\n                          component=\"span\"\n                          sx={{\n                            color: 'text.secondary',\n                            fontSize: 12,\n                            fontFamily: 'monospace',\n                          }}\n                        >\n                          {truncateMiddle(result.results_dir, 10, 16)}\n                        </Box>\n                      </Tooltip>\n                      <CopyButton\n                        content={result.results_dir}\n                        size=\"small\"\n                        className=\"copy-btn\"\n                        title=\"Copy results directory\"\n                      />\n                    </TableCell> */}\n\n                    <TableCell>\n                      <Runtime startTime={startTime} endTime={endTime} />\n                    </TableCell>\n\n                    <TableCell>{formatDate(startTime)}</TableCell>\n\n                    <TableCell>{formatDate(endTime)}</TableCell>\n\n                    <TableCell>\n                      <ResultProgress dispatchId={dispatchId} />\n                    </TableCell>\n                  </TableRow>\n                )\n              })}\n            </TableBody>\n          </StyledTable>\n        </TableContainer>\n\n        {_.isEmpty(rows) && (\n          <Typography\n            sx={{\n              my: 3,\n              textAlign: 'center',\n              color: 'text.secondary',\n              fontSize: 'h6.fontSize',\n            }}\n          >\n            No results found.\n          </Typography>\n        )}\n        <TablePagination\n          rowsPerPageOptions={[10, 15, 20]}\n          component=\"div\"\n          count={_.size(results)}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport default ResultListing\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 14.0001L11.002 2.9981C11.2131 2.78638 11.4641 2.6186 11.7404 2.5045C12.0167 2.3904 12.3129 2.33224 12.6119 2.33337H25.6714V1.61646e-05H12.6119C12.3129 -0.0011142 12.0167 0.0570497 11.7404 0.17115C11.4641 0.285251 11.2131 0.453024 11.002 0.66475L0 11.6668V14.0001Z\",\n  fill: \"url(#paint0_linear_46_160)\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 18.6666L11.002 7.66461C11.2131 7.45288 11.4641 7.28512 11.7404 7.17102C12.0167 7.05692 12.3129 6.99874 12.6119 6.99987H25.6714V4.66652H12.6119C12.3129 4.66539 12.0167 4.72357 11.7404 4.83767C11.4641 4.95177 11.2131 5.11953 11.002 5.33125L0 16.3333V18.6666Z\",\n  fill: \"url(#paint1_linear_46_160)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 23.3336L11.002 12.3361C11.2127 12.1236 11.4635 11.955 11.7399 11.8401C12.0162 11.7252 12.3126 11.6663 12.6119 11.6669H25.6714V9.3335H12.6119C12.3126 9.33296 12.0162 9.39185 11.7399 9.50673C11.4635 9.62162 11.2127 9.79022 11.002 10.0028L0 21.0003V23.3336Z\",\n  fill: \"url(#paint2_linear_46_160)\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 21L11.002 32.002C11.2131 32.2137 11.4641 32.3815 11.7404 32.4956C12.0167 32.6097 12.3129 32.6679 12.6119 32.6667H25.6714V35.0001H12.6119C12.3129 35.0012 12.0167 34.9431 11.7404 34.829C11.4641 34.7149 11.2131 34.5471 11.002 34.3354L0 23.3334V21Z\",\n  fill: \"url(#paint3_linear_46_160)\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 16.3335L11.002 27.331C11.2127 27.5435 11.4635 27.7121 11.7399 27.827C12.0162 27.9419 12.3126 28.0008 12.6119 28.0002H25.6714V30.3336H12.6119C12.3129 30.3347 12.0167 30.2766 11.7404 30.1625C11.4641 30.0484 11.2131 29.8806 11.002 29.6689L0 18.6668V16.3335Z\",\n  fill: \"url(#paint4_linear_46_160)\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 11.6665L11.002 22.664C11.2127 22.8765 11.4635 23.0451 11.7399 23.16C12.0162 23.2749 12.3126 23.3338 12.6119 23.3333H25.6714V25.6666H12.6119C12.3126 25.6671 12.0162 25.6083 11.7399 25.4934C11.4635 25.3785 11.2127 25.2099 11.002 24.9974L0 13.9999V11.6665Z\",\n  fill: \"url(#paint5_linear_46_160)\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 167.833,\n  y: 8.15039,\n  width: 63.748,\n  height: 18.6994,\n  rx: 5,\n  fill: \"#778AF7\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M183.827 22.1504H187.509C189.147 22.1504 190.547 21.1144 190.547 19.3364C190.547 17.9924 189.665 17.2924 189.021 17.0404V16.9564C189.763 16.5504 190.211 15.8224 190.211 14.8844C190.211 13.4424 189.119 12.3504 187.229 12.3504H183.827V22.1504ZM185.297 16.4804V13.6384H187.131C188.055 13.6384 188.713 14.1844 188.713 15.0244C188.713 15.8924 188.069 16.4804 187.103 16.4804H185.297ZM185.297 20.8624V17.6564H187.089C188.083 17.6564 188.979 18.1184 188.979 19.2384C188.979 20.3584 188.209 20.8624 187.187 20.8624H185.297ZM195.479 22.3324C197.285 22.3324 198.587 21.3524 198.965 19.9384H197.537C197.243 20.6524 196.445 21.1004 195.521 21.1004C194.177 21.1004 193.323 20.2324 193.267 18.9584H199.035V18.4124C199.035 16.3264 197.733 14.6464 195.451 14.6464C193.365 14.6464 191.797 16.1864 191.797 18.5104C191.797 20.7084 193.281 22.3324 195.479 22.3324ZM193.295 17.8244C193.407 16.6764 194.331 15.8784 195.451 15.8784C196.585 15.8784 197.481 16.5924 197.579 17.8244H193.295ZM203.843 22.1504H205.061V20.9044H204.067C203.297 20.9044 203.003 20.4844 203.003 19.7844V16.0324H205.131V14.8284H203.003V12.7564H201.617V14.3664C201.617 14.6604 201.435 14.8424 201.183 14.8424H200.217V16.0324H201.533V19.8264C201.533 21.3524 202.401 22.1504 203.843 22.1504ZM209.914 22.3324C211.37 22.3324 212.084 21.3944 212.28 21.1144H212.364V22.1504H213.806V14.8284H212.336V15.8924H212.238C212 15.5144 211.244 14.6464 209.844 14.6464C207.8 14.6464 206.358 16.2424 206.358 18.5104C206.358 20.7784 207.814 22.3324 209.914 22.3324ZM210.124 21.0024C208.78 21.0024 207.856 20.0224 207.856 18.4964C207.856 17.0264 208.78 15.9904 210.11 15.9904C211.398 15.9904 212.378 16.9144 212.378 18.4964C212.378 19.8824 211.524 21.0024 210.124 21.0024Z\",\n  fill: \"white\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M41.6725 18.4762C41.6568 17.2681 41.9563 16.076 42.5427 15.0129C43.1101 13.984 43.9592 13.1304 44.9948 12.5478C46.0801 11.9371 47.3137 11.6246 48.5653 11.6432C50.0748 11.6159 51.5496 12.0872 52.7519 12.9811C53.9309 13.8449 54.7322 15.1137 54.9947 16.5323H52.2495C52.0258 15.7914 51.5499 15.1478 50.9008 14.7084C50.2244 14.2419 49.4136 13.9988 48.5863 14.0145C48.0185 13.9949 47.4534 14.0983 46.9312 14.3175C46.4091 14.5366 45.9429 14.8661 45.566 15.2822C44.7829 16.1659 44.3706 17.307 44.4117 18.4762C44.3702 19.6606 44.7989 20.8148 45.6078 21.6965C46.2841 22.3917 47.1889 22.8315 48.1634 22.9385C49.138 23.0456 50.1198 22.8132 50.9367 22.282C51.585 21.8581 52.0628 21.2268 52.2884 20.4962H55.0096C54.7572 21.9062 53.9606 23.1672 52.7848 24.0181C51.5792 24.9039 50.1053 25.3688 48.5982 25.3384C47.6336 25.3463 46.677 25.1662 45.7843 24.8085C44.9584 24.4804 44.2117 23.9868 43.5923 23.3594C42.9842 22.7281 42.5069 21.9874 42.1868 21.1783C41.8414 20.3178 41.6668 19.4007 41.6725 18.4762Z\",\n  fill: \"white\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M57.4067 18.475C57.3878 17.2516 57.6957 16.0448 58.2997 14.9755C58.8874 13.9413 59.7591 13.0912 60.8149 12.5223C61.9216 11.9256 63.1669 11.6226 64.4284 11.6431C65.6901 11.6251 66.9343 11.9344 68.0361 12.5399C69.0828 13.1149 69.9465 13.9653 70.5304 14.996C71.1176 16.0692 71.425 17.2691 71.425 18.4882C71.425 19.7072 71.1176 20.9072 70.5304 21.9803C69.9399 23.0136 69.0704 23.8657 68.0182 24.4423C66.9162 25.0472 65.6721 25.3565 64.4106 25.3392C62.3786 25.3392 60.7038 24.6905 59.3861 23.393C58.7321 22.7502 58.2189 21.9821 57.8784 21.1362C57.5379 20.2902 57.3774 19.3845 57.4067 18.475ZM60.1392 18.475C60.0937 19.6641 60.527 20.8228 61.3447 21.699C61.7476 22.0982 62.227 22.4146 62.755 22.6299C63.2831 22.8452 63.8493 22.9551 64.4209 22.9532C64.9924 22.9513 65.5579 22.8376 66.0845 22.6188C66.6111 22.4 67.0882 22.0803 67.4884 21.6785C68.2664 20.7841 68.694 19.6453 68.694 18.4677C68.694 17.29 68.2664 16.1512 67.4884 15.2569C67.0853 14.8575 66.606 14.5405 66.078 14.3242C65.5501 14.1079 64.9839 13.9966 64.4121 13.9966C63.8402 13.9966 63.2741 14.1079 62.7461 14.3242C62.2182 14.5405 61.7389 14.8575 61.3358 15.2569C60.5228 16.133 60.0929 17.2891 60.1392 18.475Z\",\n  fill: \"white\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M72.793 11.9766H75.615L79.191 21.8432H79.3788L82.916 11.9766H85.7887L80.7227 25.0062H77.8411L72.793 11.9766Z\",\n  fill: \"white\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M88.9205 23.4504C87.7443 22.194 87.1562 20.5518 87.1562 18.5236C87.1562 16.4954 87.7443 14.8424 88.9205 13.5645C89.4845 12.9375 90.179 12.4409 90.9556 12.1093C91.7321 11.7777 92.572 11.6192 93.4164 11.6448C93.9744 11.6404 94.5297 11.7215 95.063 11.8851C95.5238 12.0204 95.9583 12.2325 96.348 12.5123C96.6419 12.7243 96.9173 12.9605 97.1713 13.2187C97.3604 13.4131 97.5316 13.624 97.683 13.8488H97.8653V11.973H100.494V25.0126H97.9152V23.1573H97.7418C97.2819 23.8479 96.6533 24.4104 95.9151 24.7919C95.1769 25.1733 94.3535 25.3613 93.5223 25.3379C91.6306 25.3418 90.0967 24.7126 88.9205 23.4504ZM89.8497 18.4855C89.8497 19.8376 90.2211 20.922 90.9641 21.7388C91.3347 22.1448 91.7899 22.4652 92.2979 22.6773C92.8058 22.8895 93.3542 22.9883 93.9045 22.9668C94.4601 22.9903 95.0137 22.8872 95.5233 22.6653C96.0328 22.4433 96.4848 22.1084 96.8449 21.686C97.5913 20.789 97.9816 19.6502 97.9417 18.4855C97.9417 17.1177 97.5624 16.0294 96.8038 15.2205C96.4324 14.8258 95.981 14.5146 95.4796 14.3074C94.9782 14.1002 94.4382 14.0018 93.8957 14.0188C93.3493 14.001 92.8057 14.104 92.3039 14.3204C91.8022 14.5368 91.3547 14.8612 90.9935 15.2703C90.2165 16.1594 89.8086 17.3101 89.8526 18.4884L89.8497 18.4855Z\",\n  fill: \"white\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M104.599 21.7657V8.59619H107.176V21.6018C107.157 21.8917 107.247 22.1781 107.428 22.4038C107.524 22.5001 107.639 22.5747 107.765 22.6227C107.891 22.6706 108.026 22.6908 108.161 22.6819H108.703V25.0059H107.646C106.68 25.0059 105.928 24.722 105.39 24.1542C104.851 23.5863 104.587 22.7902 104.599 21.7657Z\",\n  fill: \"white\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M110.756 18.5337C110.732 17.2775 111.035 16.0355 111.637 14.9226C112.192 13.9085 113.032 13.0671 114.06 12.4957C115.108 11.92 116.295 11.6255 117.5 11.6428C118.459 11.6309 119.41 11.8094 120.295 12.1675C121.092 12.4877 121.803 12.9788 122.375 13.6037C122.935 14.2293 123.365 14.9525 123.644 15.7345C123.949 16.5754 124.1 17.461 124.092 18.352V19.3251H113.46C113.465 19.8389 113.574 20.3469 113.782 20.8197C113.99 21.2926 114.292 21.7209 114.672 22.0803C115.069 22.4346 115.534 22.7093 116.042 22.8884C116.549 23.0675 117.088 23.1475 117.627 23.1237C118.43 23.1376 119.222 22.9455 119.923 22.5668C120.558 22.2385 121.057 21.7086 121.337 21.0661H123.965C123.629 22.3274 122.832 23.4281 121.721 24.1642C120.494 24.9703 119.034 25.3806 117.551 25.3366C115.547 25.3366 113.916 24.6977 112.658 23.4197C111.4 22.1418 110.766 20.5131 110.756 18.5337ZM113.512 17.3027H121.385C121.369 16.8252 121.253 16.3559 121.045 15.9227C120.837 15.4896 120.541 15.1016 120.174 14.782C119.414 14.1773 118.459 13.8504 117.475 13.8585C116.491 13.8665 115.542 14.2089 114.793 14.8259C114.048 15.4533 113.588 16.3385 113.512 17.2909V17.3027Z\",\n  fill: \"white\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M127.17 24.9882V11.9544H129.782V13.6946H129.956C130.287 13.0745 130.801 12.5645 131.431 12.2298C132.178 11.8231 133.025 11.6206 133.88 11.6439C135.373 11.6439 136.565 12.1146 137.455 13.0559C138.362 14.0339 138.842 15.3166 138.794 16.633V25.0058H136.107V17.1134C136.124 16.7099 136.056 16.3072 135.909 15.9297C135.761 15.5521 135.537 15.2074 135.25 14.9162C134.971 14.6396 134.637 14.4219 134.269 14.2767C133.9 14.1315 133.505 14.062 133.107 14.0725C132.673 14.0611 132.241 14.1393 131.84 14.3019C131.439 14.4644 131.078 14.7078 130.781 15.0158C130.474 15.3313 130.234 15.703 130.076 16.1093C129.917 16.5156 129.843 16.9485 129.857 17.383V24.9999L127.17 24.9882Z\",\n  fill: \"white\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M141.534 14.1192V12.0044H143.274C143.38 12.0081 143.485 11.9897 143.583 11.9504C143.681 11.9111 143.769 11.8517 143.842 11.7763C143.995 11.6058 144.075 11.3835 144.065 11.1562V8.59619H146.56V11.981H150.426V14.1192H146.56V20.7998C146.56 22.1297 147.202 22.7947 148.487 22.7947H150.271V25.0059H148.074C146.755 25.0059 145.73 24.651 144.999 23.9413C144.267 23.2315 143.9 22.2087 143.898 20.873V14.1455L141.534 14.1192Z\",\n  fill: \"white\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint0_linear_46_160\",\n  x1: 0,\n  y1: 7.00054,\n  x2: 25.6685,\n  y2: 7.00054,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#00000B\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.14,\n  stopColor: \"#2A2634\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.24,\n  stopColor: \"#6FB3E2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.77,\n  stopColor: \"#6D559F\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#18171D\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint1_linear_46_160\",\n  x1: 0,\n  y1: 11.667,\n  x2: 25.6685,\n  y2: 11.667,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#00000B\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.14,\n  stopColor: \"#2A2634\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.24,\n  stopColor: \"#6FB3E2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.77,\n  stopColor: \"#6D559F\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#18171D\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint2_linear_46_160\",\n  x1: 0,\n  y1: 16.334,\n  x2: 25.6685,\n  y2: 16.334,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#00000B\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.14,\n  stopColor: \"#2A2634\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.24,\n  stopColor: \"#6FB3E2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.77,\n  stopColor: \"#6D559F\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#18171D\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint3_linear_46_160\",\n  x1: 0,\n  y1: 28.0015,\n  x2: 25.6695,\n  y2: 28.0015,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#231F20\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.05,\n  stopColor: \"#322A3A\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.14,\n  stopColor: \"#483A60\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.23,\n  stopColor: \"#59477E\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.31,\n  stopColor: \"#655094\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.4,\n  stopColor: \"#6D55A1\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.48,\n  stopColor: \"#6F57A5\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.54,\n  stopColor: \"#6F66AF\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.65,\n  stopColor: \"#6F8ECA\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.76,\n  stopColor: \"#6FB8E6\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.99,\n  stopColor: \"#6FBCE8\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint4_linear_46_160\",\n  x1: 0,\n  y1: 23.335,\n  x2: 25.6695,\n  y2: 23.335,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#231F20\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.05,\n  stopColor: \"#322A3A\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.14,\n  stopColor: \"#483A60\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.23,\n  stopColor: \"#59477E\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.31,\n  stopColor: \"#655094\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.4,\n  stopColor: \"#6D55A1\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.48,\n  stopColor: \"#6F57A5\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.54,\n  stopColor: \"#6F66AF\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.65,\n  stopColor: \"#6F8ECA\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.76,\n  stopColor: \"#6FB8E6\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.99,\n  stopColor: \"#6FBCE8\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint5_linear_46_160\",\n  x1: 0,\n  y1: 18.668,\n  x2: 25.6695,\n  y2: 18.668,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#231F20\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.05,\n  stopColor: \"#322A3A\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.14,\n  stopColor: \"#483A60\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.23,\n  stopColor: \"#59477E\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.31,\n  stopColor: \"#655094\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.4,\n  stopColor: \"#6D55A1\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.48,\n  stopColor: \"#6F57A5\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.54,\n  stopColor: \"#6F66AF\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.65,\n  stopColor: \"#6F8ECA\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.76,\n  stopColor: \"#6FB8E6\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.99,\n  stopColor: \"#6FBCE8\"\n})));\n\nfunction SvgCovalentFullLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 232,\n    height: 35,\n    viewBox: \"0 0 232 35\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCovalentFullLogo);\nexport default __webpack_public_path__ + \"static/media/covalent-full-logo.b42305d7.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport {\n  AppBar,\n  Container,\n  Link,\n  Paper,\n  Typography,\n  Toolbar,\n} from '@mui/material'\nimport { useSelector } from 'react-redux'\nimport { createSelector } from '@reduxjs/toolkit'\n\nimport ResultListing from './results/ResultListing'\nimport { ReactComponent as Logo } from '../assets/covalent-full-logo.svg'\nimport { Box } from '@mui/system'\nimport CopyButton from './CopyButton'\n\nconst selectResultsCache = (state) => state.results.cache\n\nconst selectLatestResult = createSelector(selectResultsCache, (cache) => {\n  return _.chain(cache).values().maxBy('start_time').value()\n})\n\nexport const selectDispatcherAddress = createSelector(\n  selectLatestResult,\n  (latestResult) => {\n    let address = _.get(latestResult, 'lattice.metadata.dispatcher', null)\n    if (address) {\n      const protocol = _.includes(address, '//') ? '' : 'https://'\n      address = protocol + address\n    }\n    return address\n  }\n)\n\nconst Dashboard = () => {\n  const dispatcherAddress = useSelector(selectDispatcherAddress)\n\n  return (\n    <>\n      <AppBar position=\"static\" color=\"transparent\" sx={{ my: 3 }}>\n        <Toolbar>\n          <Container>\n            <Link href=\"/\">\n              <Logo />\n            </Link>\n          </Container>\n        </Toolbar>\n      </AppBar>\n\n      <Container>\n        <Paper sx={{ p: 2, mb: 2 }}>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <Typography fontSize={20}>Dispatch list</Typography>\n\n            {dispatcherAddress && (\n              <>\n                <Typography sx={{ ml: 'auto' }} color=\"text.secondary\">\n                  {dispatcherAddress}\n                </Typography>\n\n                <CopyButton\n                  sx={{ ml: 1 }}\n                  size=\"small\"\n                  content={dispatcherAddress}\n                  title=\"Copy dispatcher address\"\n                />\n              </>\n            )}\n          </Box>\n        </Paper>\n      </Container>\n\n      <Container>\n        <ResultListing />\n      </Container>\n    </>\n  )\n}\n\nexport default Dashboard\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0_183_339)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.00001 6.58071C6.42758 6.58071 6.77419 6.23409 6.77419 5.80653C6.77419 5.37896 6.42758 5.03235 6.00001 5.03235C5.57244 5.03235 5.22583 5.37896 5.22583 5.80653C5.22583 6.23409 5.57244 6.58071 6.00001 6.58071Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.99561 6.0001C10.1865 5.79339 10.3604 5.58577 10.5152 5.37896C11.2734 4.36552 11.4887 3.47603 11.1215 2.87437C10.7542 2.2727 9.86469 2.0575 8.61677 2.26848C8.42413 2.30105 8.22596 2.34328 8.02355 2.39439C7.96176 2.19497 7.89457 2.00383 7.822 1.82243C7.35194 0.647304 6.70486 0.00012207 5.99996 0.00012207C5.29509 0.00012207 4.648 0.647304 4.17795 1.82246C4.10538 2.00388 4.03819 2.195 3.97639 2.39442C3.77398 2.34328 3.57582 2.30105 3.38317 2.2685C2.13526 2.05754 1.2457 2.27272 0.878481 2.87439C0.511265 3.47606 0.726616 4.36555 1.48481 5.37899C1.63952 5.58579 1.81348 5.79341 2.00436 6.00012C1.81348 6.20683 1.63952 6.41445 1.48481 6.62126C0.726616 7.6347 0.511265 8.52416 0.878481 9.12585C1.15373 9.57686 1.72238 9.8107 2.51556 9.8107C2.78055 9.81067 3.07065 9.78458 3.3832 9.73174C3.57584 9.69917 3.77401 9.65696 3.97642 9.60583C4.03821 9.80525 4.1054 9.99639 4.17797 10.1778C4.64803 11.3529 5.29509 12.0001 5.99998 12.0001C6.70488 12.0001 7.35194 11.3529 7.822 10.1778C7.89457 9.99637 7.96176 9.80522 8.02355 9.60583C8.22596 9.65696 8.42413 9.69919 8.61677 9.73174C8.92936 9.7846 9.21935 9.8107 9.48441 9.8107C10.2775 9.81067 10.8463 9.57683 11.1215 9.12585C11.4887 8.52416 11.2734 7.6347 10.5152 6.62126C10.3604 6.41442 10.1865 6.20681 9.99561 6.0001ZM8.68126 2.65018C9.74687 2.47008 10.5159 2.62523 10.791 3.07607C11.0662 3.52685 10.8526 4.28171 10.2052 5.14709C10.0624 5.33789 9.9022 5.5296 9.72677 5.72072C9.35118 5.3458 8.9218 4.97674 8.45148 4.62428C8.38841 3.96349 8.27992 3.33647 8.1299 2.76659C8.3181 2.71938 8.50222 2.68045 8.68126 2.65018ZM7.1091 7.8174C6.74095 8.0421 6.36936 8.24673 5.99996 8.42906C5.63056 8.2467 5.259 8.04208 4.89085 7.8174C4.55165 7.61037 4.22643 7.39293 3.91841 7.1683C3.88711 6.78837 3.87093 6.39749 3.87093 6.0001C3.87093 5.60271 3.88711 5.21183 3.91841 4.83189C4.22643 4.60724 4.55165 4.3898 4.89085 4.1828C5.259 3.95812 5.63056 3.75349 5.99996 3.57114C6.36936 3.75349 6.74092 3.95812 7.1091 4.1828C7.44828 4.3898 7.77351 4.60724 8.08154 4.83189C8.11284 5.21185 8.12902 5.60273 8.12902 6.00012C8.12902 6.39751 8.11284 6.78839 8.08156 7.16832C7.77351 7.39296 7.4483 7.61039 7.1091 7.8174ZM8.02942 7.68021C7.96677 8.1934 7.87522 8.68101 7.75694 9.13076C7.33255 9.00374 6.89146 8.83806 6.44372 8.63775C6.73336 8.48687 7.02322 8.3233 7.31075 8.14781C7.55774 7.9971 7.79769 7.84082 8.02942 7.68021ZM5.5562 8.63775C5.10846 8.83806 4.66737 9.00374 4.24298 9.13076C4.1247 8.68101 4.03315 8.1934 3.9705 7.68019C4.20225 7.84079 4.4422 7.99708 4.68917 8.14781H4.68915C4.97672 8.32332 5.26656 8.4869 5.5562 8.63775ZM3.5086 6.85716C3.15614 6.57825 2.83154 6.29077 2.54097 6.00012C2.83154 5.70948 3.15614 5.422 3.5086 5.14306C3.49225 5.42455 3.48385 5.71078 3.48385 6.00012C3.48385 6.28944 3.49225 6.57567 3.5086 6.85716ZM3.97053 4.32001C4.03318 3.80682 4.12472 3.31918 4.24301 2.86946C4.6674 2.99648 5.10848 3.16216 5.55622 3.36247C5.26658 3.51332 4.97675 3.67692 4.68922 3.85241H4.6892C4.4422 4.00312 4.20225 4.1594 3.97053 4.32001ZM6.44375 3.36244C6.89146 3.16214 7.33257 2.99645 7.75694 2.86943C7.87522 3.31918 7.96677 3.80679 8.02942 4.31998C7.79767 4.15938 7.55774 4.00312 7.31077 3.85238C7.02324 3.6769 6.73339 3.51332 6.44375 3.36244ZM8.49132 5.14304C8.84378 5.42195 9.1684 5.70945 9.45898 6.0001C9.1684 6.29074 8.84378 6.57825 8.49132 6.85716C8.50767 6.57567 8.51607 6.28944 8.51607 6.0001C8.51609 5.71075 8.5077 5.42453 8.49132 5.14304ZM4.53736 1.96622C4.93875 0.962745 5.47184 0.387224 5.99996 0.387224C6.52808 0.387224 7.06117 0.962745 7.46256 1.96622C7.53 2.13483 7.59268 2.31227 7.65044 2.4975C7.11828 2.65661 6.56198 2.8737 5.99996 3.1413C5.43794 2.8737 4.88164 2.65661 4.34948 2.4975C4.40724 2.31227 4.46992 2.13483 4.53736 1.96622ZM1.79475 5.14709C1.1473 4.28171 0.933767 3.52685 1.2089 3.07604C1.40893 2.7483 1.86988 2.5768 2.51622 2.5768C2.75887 2.5768 3.02777 2.601 3.31866 2.65015C3.49772 2.68042 3.68182 2.71936 3.87004 2.76657C3.72 3.33644 3.61154 3.96347 3.54844 4.62425C3.07812 4.97671 2.64877 5.34577 2.27318 5.7207C2.09775 5.5296 1.93751 5.33789 1.79475 5.14709ZM3.31866 9.35002C2.25302 9.53019 1.48403 9.37496 1.2089 8.92415C0.933767 8.47337 1.14733 7.71849 1.79475 6.85311C1.93749 6.6623 2.09772 6.47059 2.27318 6.27947C2.64877 6.6544 3.07812 7.02343 3.54844 7.37589C3.61151 8.03668 3.72 8.66373 3.87004 9.23358C3.68182 9.28081 3.49772 9.31975 3.31866 9.35002ZM7.46259 10.034C7.0612 11.0375 6.5281 11.613 5.99998 11.613C5.47187 11.613 4.93877 11.0375 4.53738 10.034C4.46994 9.86539 4.40727 9.68795 4.3495 9.50272C4.88169 9.34359 5.43797 9.12652 5.99998 8.85892C6.562 9.12654 7.1183 9.34361 7.65047 9.50272C7.5927 9.68795 7.53003 9.86539 7.46259 10.034ZM10.791 8.92418C10.5159 9.37496 9.74692 9.53016 8.68129 9.35004C8.50225 9.31977 8.31812 9.28084 8.12992 9.23365C8.27995 8.6638 8.38843 8.03678 8.4515 7.37599C8.92183 7.02353 9.3512 6.65447 9.72679 6.27955C9.90222 6.47067 10.0625 6.66238 10.2052 6.85318C10.8526 7.71851 11.0662 8.47339 10.791 8.92418Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.99996 6.77433C5.46634 6.77433 5.03223 6.34021 5.03223 5.8066C5.03223 5.27298 5.46637 4.83887 5.99996 4.83887C6.53355 4.83887 6.96769 5.27301 6.96769 5.8066C6.96769 6.34021 6.53357 6.77433 5.99996 6.77433ZM5.99996 5.22594C5.67978 5.22594 5.4193 5.48642 5.4193 5.8066C5.4193 6.12677 5.67978 6.38722 5.99996 6.38722C6.32011 6.38722 6.58058 6.12675 6.58058 5.8066C6.58058 5.48644 6.32011 5.22594 5.99996 5.22594Z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0_183_339\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 12,\n  height: 12,\n  transform: \"translate(0 0.00012207)\"\n})));\n\nfunction SvgAtom(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 12 12\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAtom);\nexport default __webpack_public_path__ + \"static/media/atom.3f8fd5bf.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport {\n  Box,\n  SvgIcon,\n  Tooltip,\n  tooltipClasses,\n  Typography,\n} from '@mui/material'\nimport { styled } from '@mui/material/styles'\nimport { Handle } from 'react-flow-renderer'\n\nimport { ReactComponent as AtomSvg } from '../../assets/atom.svg'\nimport { statusColor } from '../../utils/misc'\nimport { Check, WarningAmber } from '@mui/icons-material'\nimport theme from '../../utils/theme'\n\nconst NODE_TEXT_COLOR = 'rgba(250, 250, 250, 0.6)'\n\nconst ElectronTooltip = styled(({ className, ...props }) => (\n  <Tooltip {...props} classes={{ popper: className }} />\n))(({ theme }) => ({\n  [`& .${tooltipClasses.tooltip}`]: {\n    // customize tooltip\n  },\n}))\n\nconst ElectronNode = ({\n  id,\n  data,\n  type,\n  selected,\n  sourcePosition,\n  targetPosition,\n  isConnectable,\n}) => {\n  const color = statusColor(data.status)\n  const hasBorder = data.status !== 'NEW_OBJECT'\n\n  return (\n    <ElectronTooltip title={data.fullName} arrow placement=\"bottom-end\">\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          px: 1,\n          py: 0.5,\n          borderRadius: 1,\n          bgcolor: !selected ? theme.palette.background.paper : '#1B2632',\n          color: !selected ? NODE_TEXT_COLOR : '#FAFAFA',\n          borderColor: color,\n          borderStyle: 'solid',\n          borderWidth: hasBorder ? 1 : 0,\n        }}\n      >\n        {!!data.inputs && (\n          <Handle\n            type=\"target\"\n            position={targetPosition}\n            isConnectable={isConnectable}\n          />\n        )}\n        {(() => {\n          switch (data.status) {\n            case 'NEW_OBJECT':\n              return (\n                <SvgIcon sx={{ mr: 1, fontSize: 12, fill: color }}>\n                  <AtomSvg />\n                </SvgIcon>\n              )\n            case 'RUNNING':\n              return (\n                <SvgIcon\n                  sx={{ mr: 1, fontSize: 12, fill: color }}\n                  className=\"spin-electron\"\n                >\n                  <AtomSvg />\n                </SvgIcon>\n              )\n            case 'COMPLETED':\n              return <Check sx={{ mr: 1, fontSize: 12, fill: color }} />\n            case 'FAILED':\n              return <WarningAmber sx={{ mr: 1, fontSize: 12, color: color }} />\n            default:\n              return null\n          }\n        })()}\n\n        <Typography sx={{ fontSize: 12 }}>{data.label}</Typography>\n        {!!data.outputs && (\n          <Handle\n            type=\"source\"\n            position={sourcePosition}\n            isConnectable={isConnectable}\n          />\n        )}\n      </Box>\n    </ElectronTooltip>\n  )\n}\n\nexport default ElectronNode\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { Typography } from '@mui/material'\nimport { Handle } from 'react-flow-renderer'\n\nconst ParameterNode = ({\n  id,\n  data,\n  type,\n  selected,\n  sourcePosition,\n  targetPosition,\n  isConnectable,\n}) => {\n  return (\n    <Typography\n      component=\"div\"\n      sx={(theme) => ({\n        px: 2,\n        py: 0.5,\n        borderRadius: 3,\n        color: 'text.disabled',\n        bgcolor: theme.palette.background.paper,\n        fontSize: 12,\n      })}\n    >\n      {data.label}\n      <Handle\n        type=\"source\"\n        position={sourcePosition}\n        isConnectable={isConnectable}\n      />\n    </Typography>\n  )\n}\n\nexport default ParameterNode\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { BezierEdge } from 'react-flow-renderer'\n\nimport theme from '../../utils/theme'\n\nconst DirectedEdge = (props) => {\n  return (\n    <BezierEdge\n      {...props}\n      labelBgStyle={{ fill: theme.palette.background.default }}\n      labelStyle={{ fill: 'rgba(250, 250, 250, 0.6)' }}\n      arrowHeadType=\"arrow\"\n    />\n  )\n}\n\nexport default DirectedEdge\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport dagre from 'dagre'\nimport { isNode } from 'react-flow-renderer'\n\nimport { isParameter } from '../../utils/misc'\nimport theme from '../../utils/theme'\n\nconst layout = (graph, direction = 'TB', showParams = true) => {\n  const elements = mapGraphToElements(graph, direction, showParams)\n  assignNodePositions(elements, direction)\n\n  return elements\n}\n\n/**\n * Filter graph by node type.\n */\nconst filterGraph = (graph, nodePredicate) => {\n  const nodes = _.filter(graph.nodes, nodePredicate)\n  const nodeSet = new Set(_.map(nodes, 'id'))\n  const links = _.filter(graph.links, ({ source }) => nodeSet.has(source))\n  return { nodes, links }\n}\n\n/**\n * Map Covalent graph nodes and links to ReactFlow graph elements.\n */\nconst mapGraphToElements = (graph, direction, showParams) => {\n  if (!showParams) {\n    graph = filterGraph(graph, (node) => !isParameter(node))\n  }\n\n  const nodes = _.map(graph.nodes, (node) => {\n    const { inputs, outputs } = countEdges(node.id, graph.links)\n    const handlePositions = getHandlePositions(direction)\n    const isParam = isParameter(node)\n\n    const name = isParam ? _.trim(node.name, ':parameter:') : node.name\n\n    return {\n      id: String(node.id),\n      type: isParam ? 'parameter' : 'electron',\n      data: {\n        fullName: name,\n        label: _.truncate(name, { length: 70 }),\n        status: node.status,\n        inputs,\n        outputs,\n      },\n      targetPosition: handlePositions.target,\n      sourcePosition: handlePositions.source,\n    }\n  })\n\n  const edges = _.map(graph.links, (edge) => {\n    const { source, target } = edge\n    return {\n      id: `${source}-${target}`,\n      source: String(source),\n      target: String(target),\n      label: edge.variable,\n      type: 'directed',\n    }\n  })\n\n  return [...nodes, ...edges]\n}\n\n// node width is used by the layout engine to avoid node overlap\nconst fontSize = theme.typography.fontSize\nconst lineHeight = theme.typography.body1.lineHeight * fontSize\n\nconst nodeWidth = (name) => _.size(name) * fontSize\nconst nodeHeight = lineHeight\n\nconst edgeWidth = (name) => _.size(name) * fontSize\nconst edgeHeight = lineHeight\n\nconst assignNodePositions = (elements, direction) => {\n  const dagreGraph = new dagre.graphlib.Graph()\n  dagreGraph.setDefaultEdgeLabel(() => ({}))\n  dagreGraph.setGraph({\n    rankdir: direction,\n    nodesep: 75,\n    ranksep: 100,\n  })\n\n  _.each(elements, (el) => {\n    if (isNode(el)) {\n      dagreGraph.setNode(el.id, {\n        width: nodeWidth(el.data.label),\n        height: nodeHeight,\n      })\n    } else {\n      dagreGraph.setEdge(el.source, el.target, {\n        width: edgeWidth(el.label),\n        height: edgeHeight,\n      })\n    }\n  })\n\n  dagre.layout(dagreGraph)\n\n  _.each(elements, (e) => {\n    if (isNode(e)) {\n      const node = dagreGraph.node(e.id)\n      e.position = {\n        x: node.x - node.width / 2,\n        y: node.y - node.height / 2,\n      }\n    }\n  })\n}\n\n/**\n * Returns source and target handle positions.\n *\n * @param {direction} 'LR'|'RL'|'TB'|'BT'\n *\n * @returns { source: <position>, target: <position> }\n */\nconst getHandlePositions = (direction) => {\n  switch (direction) {\n    case 'TB':\n      return { source: 'bottom', target: 'top' }\n    case 'BT':\n      return { source: 'top', target: 'bottom' }\n    case 'RL':\n      return { source: 'left', target: 'right' }\n    case 'LR':\n      return { source: 'right', target: 'left' }\n\n    default:\n      throw new Error(`Illegal direction: ${direction}`)\n  }\n}\n\nconst countEdges = (nodeId, edges) => {\n  return _.reduce(\n    edges,\n    (res, edge) => {\n      if (edge.source === nodeId) {\n        res.outputs++\n      }\n      if (edge.target === nodeId) {\n        res.inputs++\n      }\n      return res\n    },\n    { inputs: 0, outputs: 0 }\n  )\n}\n\nexport default layout\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { useZoomPanHelper } from 'react-flow-renderer'\nimport { ToggleButton, ToggleButtonGroup, Tooltip } from '@mui/material'\nimport {\n  Add as PlusIcon,\n  ArrowBack,\n  ArrowDownward,\n  ArrowForward,\n  ArrowUpward,\n  Fullscreen,\n  LockOpenOutlined,\n  LockOutlined,\n  MapOutlined,\n  Remove as MinusIcon,\n} from '@mui/icons-material'\n\nconst LatticeControls = ({\n  showParams,\n  toggleParams,\n  showMinimap,\n  toggleMinimap,\n  direction,\n  setDirection,\n  nodesDraggable,\n  toggleNodesDraggable,\n}) => {\n  const { zoomIn, zoomOut, fitView } = useZoomPanHelper()\n\n  return (\n    <ToggleButtonGroup\n      orientation=\"vertical\"\n      size=\"small\"\n      sx={{\n        position: 'absolute',\n        bottom: 12,\n        left: 12,\n        zIndex: 5,\n        bgcolor: 'background.paper',\n        opacity: 0.7,\n      }}\n    >\n      <Hint title=\"Zoom in\">\n        <ToggleButton value=\"\" onClick={zoomIn}>\n          <PlusIcon />\n        </ToggleButton>\n      </Hint>\n\n      <Hint title=\"Zoom out\">\n        <ToggleButton value=\"\" onClick={zoomOut}>\n          <MinusIcon />\n        </ToggleButton>\n      </Hint>\n\n      <Hint title=\"Fit to screen\">\n        <ToggleButton value=\"\" onClick={fitView}>\n          <Fullscreen />\n        </ToggleButton>\n      </Hint>\n\n      <Hint title=\"Toggle parameters\">\n        <ToggleButton onClick={toggleParams} value=\"\" selected={showParams}>\n          P\n        </ToggleButton>\n      </Hint>\n\n      <Hint title=\"Toggle minimap\">\n        <ToggleButton onClick={toggleMinimap} value=\"\" selected={showMinimap}>\n          <MapOutlined />\n        </ToggleButton>\n      </Hint>\n\n      <Hint title=\"Change orientation\">\n        <ToggleButton\n          onClick={() => {\n            switch (direction) {\n              case 'TB':\n                return setDirection('BT')\n              case 'BT':\n                return setDirection('LR')\n              case 'LR':\n                return setDirection('RL')\n              case 'RL':\n                return setDirection('TB')\n              default:\n            }\n          }}\n          value=\"\"\n        >\n          {\n            {\n              TB: <ArrowDownward />,\n              BT: <ArrowUpward />,\n              LR: <ArrowForward />,\n              RL: <ArrowBack />,\n            }[direction]\n          }\n        </ToggleButton>\n      </Hint>\n\n      <Hint title=\"Toggle draggable nodes\">\n        <ToggleButton onClick={toggleNodesDraggable} value=\"\">\n          {nodesDraggable ? <LockOpenOutlined /> : <LockOutlined />}\n        </ToggleButton>\n      </Hint>\n    </ToggleButtonGroup>\n  )\n}\n\nconst Hint = (props) => <Tooltip arrow placement=\"right\" {...props} />\n\nexport default LatticeControls\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport ReactFlow, { MiniMap, useZoomPanHelper } from 'react-flow-renderer'\n\nimport ElectronNode from '../graph/ElectronNode'\nimport ParameterNode from '../graph/ParameterNode'\nimport DirectedEdge from '../graph/DirectedEdge'\nimport layout from '../graph/Layout'\nimport LatticeControls from './LatticeControls'\nimport theme from '../../utils/theme'\nimport { statusColor } from '../../utils/misc'\n\nconst LatticeMain = ({ hasSelectedNode }) => {\n  const { dispatchId } = useParams()\n\n  const result = useSelector((state) => state.results.cache[dispatchId])\n  const { fitView } = useZoomPanHelper()\n\n  const [elements, setElements] = useState()\n  const [direction, setDirection] = useState('TB')\n  const [showMinimap, setShowMinimap] = useState(false)\n  const [showParams, setShowParams] = useState(false)\n  const [nodesDraggable, setNodesDraggable] = useState(false)\n\n  useEffect(() => {\n    setElements(layout(result.graph, direction, showParams))\n  }, [result, direction, showParams])\n\n  useEffect(() => {\n    setTimeout(() => {\n      fitView()\n    })\n  }, [dispatchId, fitView, hasSelectedNode, showParams, direction])\n\n  // handle resizing\n  useEffect(() => {\n    const resizeHandler = () => {\n      fitView()\n    }\n    window.addEventListener('resize', resizeHandler)\n    return () => {\n      window.removeEventListener('resize', resizeHandler)\n    }\n  })\n\n  return (\n    <>\n      <ReactFlow\n        nodeTypes={{ electron: ElectronNode, parameter: ParameterNode }}\n        edgeTypes={{ directed: DirectedEdge }}\n        nodesDraggable={nodesDraggable}\n        nodesConnectable={false}\n        elements={elements}\n        // prevent selection when nothing is selected to prevent fitView\n        selectNodesOnDrag={hasSelectedNode}\n      >\n        <LatticeControls\n          showParams={showParams}\n          toggleParams={() => {\n            setShowParams(!showParams)\n          }}\n          showMinimap={showMinimap}\n          toggleMinimap={() => {\n            setShowMinimap(!showMinimap)\n          }}\n          direction={direction}\n          setDirection={setDirection}\n          nodesDraggable={nodesDraggable}\n          toggleNodesDraggable={() => setNodesDraggable(!nodesDraggable)}\n        />\n        {showMinimap && (\n          <MiniMap\n            style={{ backgroundColor: theme.palette.background.default }}\n            maskColor={theme.palette.background.paper}\n            nodeColor={(node) => statusColor(node.data.status)}\n          />\n        )}\n      </ReactFlow>\n    </>\n  )\n}\n\nexport default LatticeMain\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { Light } from 'react-syntax-highlighter'\nimport python from 'react-syntax-highlighter/dist/esm/languages/hljs/python'\nimport style from 'react-syntax-highlighter/dist/esm/styles/hljs/tomorrow-night'\n\nLight.registerLanguage('python', python)\n\nconst SyntaxHighlighter = ({ src, ...props }) => {\n  return (\n    <Light\n      language=\"python\"\n      style={style}\n      customStyle={{\n        margin: 0,\n        padding: 10,\n        maxHeight: 240,\n        fontSize: 14,\n        backgroundColor: 'transparent',\n      }}\n      {...props}\n    >\n      {_.trim(src, '\\n')}\n    </Light>\n  )\n}\n\nexport default SyntaxHighlighter\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { Typography } from '@mui/material'\n\nconst Heading = (props) => (\n  <Typography\n    variant=\"body2\"\n    color=\"text.secondary\"\n    sx={{ mt: 2, mb: 1 }}\n    {...props}\n  />\n)\n\nexport default Heading\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { Divider, Paper, Typography } from '@mui/material'\nimport { useSelector } from 'react-redux'\n\nimport { formatDate } from '../../utils/misc'\nimport CopyButton from '../CopyButton'\nimport Runtime from '../results/Runtime'\nimport SyntaxHighlighter from '../SyntaxHighlighter'\nimport Heading from './Heading'\n\nconst LatticeOverview = ({ dispatchId }) => {\n  const result = useSelector((state) => state.results.cache[dispatchId])\n\n  const src = _.get(result, 'lattice.function_string', '# source unavailable')\n  const showResult = result.status === 'COMPLETED'\n\n  const hasStarted = !!result.start_time\n  const hasEnded = !!result.end_time\n\n  return (\n    <>\n      {/* Description */}\n      {result.lattice.doc && (\n        <>\n          <Heading>Description</Heading>\n          <Typography>{result.lattice.doc}</Typography>\n        </>\n      )}\n\n      {/* Start/end times */}\n      {hasStarted && (\n        <>\n          <Heading>Started{hasEnded ? ' - Ended' : ''}</Heading>\n          <Typography>\n            {formatDate(result.start_time)}\n            {hasEnded && `- ${formatDate(result.end_time)}`}\n          </Typography>\n        </>\n      )}\n\n      {/* Runtime */}\n      <Heading>Runtime</Heading>\n      <Runtime startTime={result.start_time} endTime={result.end_time} />\n\n      {/* Directory */}\n      <Heading>Directory</Heading>\n      <Typography sx={{ overflowWrap: 'anywhere' }}>\n        {result.results_dir}\n        <CopyButton\n          content={result.results_dir}\n          size=\"small\"\n          title=\"Copy results directory\"\n        />\n      </Typography>\n\n      {/* Input */}\n      <InputSection inputs={_.get(result, 'lattice.kwargs')} />\n\n      {/* Result */}\n      {showResult && (\n        <>\n          <Heading>Result</Heading>\n          <Paper elevation={4}>\n            <SyntaxHighlighter language=\"python\" src={result.result} />\n          </Paper>\n        </>\n      )}\n\n      {/* Executor */}\n      <ExecutorSection metadata={_.get(result, 'lattice.metadata')} />\n\n      <Divider sx={{ my: 3 }} />\n\n      {/* Source */}\n      <Heading />\n      <Paper elevation={4}>\n        <SyntaxHighlighter src={src} />\n      </Paper>\n    </>\n  )\n}\n\nexport const ExecutorSection = ({ metadata }) => {\n  const executorType = _.get(metadata, 'backend')\n  const executorParams = _.omitBy(_.get(metadata, 'executor'), (v) => v === '')\n\n  return (\n    <>\n      {!_.isEmpty(executorType)}\n      <Heading>Executor: {executorType}</Heading>\n\n      {!_.isEmpty(executorParams) && (\n        <Typography sx={{ overflowX: 'auto', whiteSpace: 'nowrap', pb: 1 }}>\n          {_.map(executorParams, (value, key) => (\n            <span key={key}>\n              {key} = {value}\n              <br />\n            </span>\n          ))}\n        </Typography>\n      )}\n    </>\n  )\n}\n\nexport const InputSection = ({ inputs }) => {\n  if (_.isEmpty(inputs)) {\n    return null\n  }\n\n  const inputSrc = _.join(\n    _.map(inputs, (value, key) => `${key}=${value}`),\n    ', '\n  )\n\n  return (\n    <>\n      <Heading>Input</Heading>\n      <Paper elevation={4}>\n        <SyntaxHighlighter language=\"python\" src={inputSrc} />\n      </Paper>\n    </>\n  )\n}\nexport default LatticeOverview\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { Paper, Typography } from '@mui/material'\nimport { useEffect, useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport api from '../utils/api'\nimport Heading from './result/Heading'\nimport { isParameter } from '../utils/misc'\n\nconst FETCH_INTERVAL_MS = 2000\nconst MAX_LINES = 80\n\nconst LogOutput = ({ dispatchId }) => {\n  const isRunning = useSelector(\n    (state) => _.get(state.results.cache[dispatchId], 'status') === 'RUNNING'\n  )\n  const logs = useSelector((state) => {\n    const result = state.results.cache[dispatchId]\n    return _.reduce(\n      [\n        _.get(result, 'lattice'),\n        // electrons\n        ..._.filter(_.get(result, 'graph.nodes'), (node) => !isParameter(node)),\n      ],\n      (logs, node) => {\n        const executor = _.get(node, 'metadata.executor')\n        // log types\n        _.each(['log_stdout', 'log_stderr'], (logType) => {\n          const path = _.get(executor, logType)\n          if (path) {\n            logs.set(path, logType)\n          }\n        })\n        return logs\n      },\n      // logs map: path -> log type\n      new Map()\n    )\n  })\n\n  return (\n    <>\n      {_.map([...logs.entries()], ([path, logType], index) => {\n        return (\n          <TailFile\n            dispatchId={dispatchId}\n            key={index}\n            path={path}\n            isRunning={isRunning}\n            isStdErr={logType === 'log_stderr'}\n          />\n        )\n      })}\n    </>\n  )\n}\n\nconst TailFile = ({ dispatchId, path, isRunning, isStdErr }) => {\n  const [lines, setLines] = useState()\n  const bottomRef = useRef(null)\n\n  const scrollToBottom = () => {\n    bottomRef.current.scrollIntoView({ behavoir: 'smooth' })\n  }\n\n  // auto-scroll to last line on updates\n  useEffect(() => {\n    scrollToBottom()\n  }, [lines])\n\n  // tail file\n  useEffect(() => {\n    const fetchLog = () => {\n      api\n        .get(`/api/logoutput/${dispatchId}`, { params: { path, n: MAX_LINES } })\n        .then((res) => {\n          setLines(res.lines)\n        })\n        .catch((error) => {\n          setLines([error && error.message])\n        })\n    }\n\n    fetchLog()\n\n    // schedule periodic fetch if running\n    let intervalId = 0\n    if (isRunning) {\n      intervalId = setInterval(() => {\n        fetchLog()\n      }, FETCH_INTERVAL_MS)\n    }\n\n    return () => {\n      // cancel periodic fetch\n      if (intervalId) {\n        clearInterval(intervalId)\n      }\n    }\n  }, [path, isRunning, dispatchId])\n\n  return (\n    <div>\n      <Heading>{path}</Heading>\n      <Paper>\n        <Typography\n          sx={{\n            fontSize: 'small',\n            overflow: 'auto',\n            maxHeight: 200,\n            whiteSpace: 'nowrap',\n            // color: isStdErr ? 'error.light' : 'inherit',\n            p: 1,\n          }}\n        >\n          {_.map(lines, (line, index) => (\n            <span key={index}>\n              {line}\n              <br />\n            </span>\n          ))}\n          <div ref={bottomRef} />\n        </Typography>\n      </Paper>\n    </div>\n  )\n}\n\nexport default LogOutput\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport {\n  Box,\n  CircularProgress,\n  IconButton,\n  Paper,\n  styled,\n  SvgIcon,\n  Tab,\n  Tooltip,\n  Typography,\n} from '@mui/material'\nimport {\n  AccountTreeOutlined,\n  CancelOutlined,\n  CheckCircleOutline,\n  ChevronLeft,\n  WarningAmber,\n} from '@mui/icons-material'\nimport { TabContext, TabList, TabPanel } from '@mui/lab'\n\nimport CopyButton from '../CopyButton'\nimport { ReactComponent as AtomSvg } from '../../assets/atom.svg'\nimport { selectResultProgress } from '../results/ResultProgress'\nimport LatticeOverview from './LatticeOverview'\nimport { truncateMiddle } from '../../utils/misc'\nimport LogOutput from '../LogOutput'\n\nconst LatticeDrawer = () => {\n  const { dispatchId } = useParams()\n  const [tab, setTab] = useState('overview')\n\n  return (\n    <Box sx={{ p: 2 }}>\n      {/* dispatch id */}\n      <IconButton href=\"/\" sx={{ color: 'text.disabled', mr: 1 }}>\n        <ChevronLeft />\n      </IconButton>\n\n      <AccountTreeOutlined fontSize=\"inherit\" />\n      <Tooltip title={dispatchId} placement=\"top\">\n        <Typography component=\"span\" sx={{ mx: 1 }}>\n          {truncateMiddle(dispatchId, 14, 13)}\n        </Typography>\n      </Tooltip>\n\n      <CopyButton content={dispatchId} size=\"small\" title=\"Copy dispatch Id\" />\n\n      {/* status */}\n      <LatticeStatusCard dispatchId={dispatchId} />\n\n      {/* tabs */}\n      <TabContext value={tab}>\n        <CustomTabList\n          variant=\"fullWidth\"\n          onChange={(e, newTab) => setTab(newTab)}\n        >\n          <Tab label=\"Overview\" value=\"overview\" />\n          <Tab label=\"Output\" value=\"output\" />\n        </CustomTabList>\n\n        <TabPanel value=\"overview\" sx={{ px: 0, py: 1 }}>\n          <LatticeOverview dispatchId={dispatchId} />\n        </TabPanel>\n\n        <TabPanel value=\"output\" sx={{ px: 0, py: 1 }}>\n          <LogOutput dispatchId={dispatchId} />\n        </TabPanel>\n      </TabContext>\n    </Box>\n  )\n}\n\nconst CustomTabList = styled(TabList)(({ theme }) => ({\n  '& .MuiTab-root': {\n    textTransform: 'none',\n    '&.Mui-selected': {\n      color: theme.palette.text.primary,\n    },\n  },\n  '& .MuiTabs-indicator': {\n    height: 1,\n    backgroundColor: theme.palette.text.primary,\n  },\n}))\n\nconst LatticeStatusCard = ({ dispatchId }) => {\n  const { completed, total, status, label, color, error } = useSelector(\n    (state) => selectResultProgress(state, dispatchId)\n  )\n\n  return (\n    <Box sx={{ my: 2 }}>\n      <Paper sx={{ px: 1, py: 1 }} elevation={4}>\n        <Box\n          sx={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(2, 1fr)',\n          }}\n        >\n          {/* left column */}\n          <Box>\n            <Typography color=\"text.secondary\" variant=\"body2\" sx={{ mb: 1.5 }}>\n              Status\n            </Typography>\n\n            <Box\n              sx={{\n                color: `${color}.main`,\n                display: 'flex',\n                alignItems: 'center',\n              }}\n            >\n              {(() => {\n                switch (status) {\n                  case 'RUNNING':\n                    return <CircularProgress size=\"1rem\" />\n                  case 'COMPLETED':\n                    return <CheckCircleOutline />\n                  case 'FAILED':\n                    return <WarningAmber />\n                  case 'CANCELLED':\n                    return <CancelOutlined />\n                  default:\n                    return null\n                }\n              })()}\n              &nbsp;\n              {label}\n            </Box>\n          </Box>\n\n          {/* right column */}\n          <Box>\n            <Typography color=\"text.secondary\" variant=\"body2\" sx={{ mb: 1 }}>\n              Progress\n            </Typography>\n\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <SvgIcon fontSize=\"inherit\" sx={{ mr: 1.5 }}>\n                <AtomSvg />\n              </SvgIcon>\n\n              <Box>\n                <Typography\n                  component=\"span\"\n                  sx={{\n                    color: status === 'COMPLETED' ? 'inherit' : `${color}.main`,\n                  }}\n                >\n                  {completed}\n                </Typography>\n                &nbsp;/ {total}\n              </Box>\n\n              <CircularProgress\n                sx={{ ml: 2 }}\n                variant=\"determinate\"\n                color={color}\n                size=\"2rem\"\n                value={(completed * 100) / total}\n              />\n            </Box>\n          </Box>\n        </Box>\n      </Paper>\n\n      <ErrorCard showElectron error={error} />\n    </Box>\n  )\n}\n\nexport const ErrorCard = ({ showElectron = false, error }) => {\n  if (!error) {\n    return null\n  }\n\n  return (\n    <Box\n      sx={{\n        fontSize: 'body2.fontSize',\n        display: 'flex',\n        alignItems: 'center',\n        my: 2,\n        px: 2,\n        py: 1,\n        border: '0.5px solid rgba(227, 80, 80, 0.5)',\n        borderRadius: '4px',\n        background:\n          'linear-gradient(90deg, rgba(73, 12, 12, 0.5) 0%, rgba(4, 4, 6, 0.5) 100%)',\n      }}\n    >\n      {showElectron && (\n        <SvgIcon sx={{ fontSize: 'inherit', mr: 1.5 }}>\n          <AtomSvg />\n        </SvgIcon>\n      )}\n      {error}\n    </Box>\n  )\n}\n\nexport default LatticeDrawer\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { useSelector } from 'react-redux'\nimport {\n  CancelOutlined,\n  CheckCircleOutline,\n  Close,\n  WarningAmber,\n} from '@mui/icons-material'\nimport {\n  Box,\n  CircularProgress,\n  Divider,\n  Drawer,\n  IconButton,\n  Paper,\n  Typography,\n} from '@mui/material'\nimport { useStoreActions } from 'react-flow-renderer'\n\nimport { formatDate, statusColor, statusLabel } from '../../utils/misc'\nimport Runtime from '../results/Runtime'\nimport SyntaxHighlighter from '../SyntaxHighlighter'\nimport Heading from './Heading'\nimport { ExecutorSection, InputSection } from './LatticeOverview'\nimport { ErrorCard } from './LatticeDrawer'\n\nexport const nodeDrawerWidth = 360\n\nconst NodeDrawer = ({ dispatchId, nodeId }) => {\n  const node = useSelector((state) =>\n    _.find(\n      _.get(state.results.cache[dispatchId], 'graph.nodes'),\n      (node) => nodeId === String(_.get(node, 'id'))\n    )\n  )\n\n  // unselect on close\n  const setSelectedElements = useStoreActions(\n    (actions) => actions.setSelectedElements\n  )\n  const handleClose = () => {\n    setSelectedElements([])\n  }\n\n  const src = _.get(node, 'function_string', '# source unavailable')\n  const hasStarted = !!_.get(node, 'start_time')\n  const hasEnded = !!_.get(node, 'end_time')\n\n  return (\n    <Drawer\n      sx={{\n        width: nodeDrawerWidth,\n        flexShrink: 0,\n        '& .MuiDrawer-paper': {\n          width: nodeDrawerWidth,\n          boxSizing: 'border-box',\n          border: 'none',\n          p: 2,\n        },\n      }}\n      anchor=\"right\"\n      variant=\"persistent\"\n      open={!!nodeId}\n      onClose={handleClose}\n    >\n      {!!node && (\n        <>\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              mb: 3,\n            }}\n          >\n            <Typography sx={{ color: '#A5A6F6', overflowWrap: 'anywhere' }}>\n              {node.name}\n            </Typography>\n            <Box>\n              <IconButton onClick={handleClose}>\n                <Close />\n              </IconButton>\n            </Box>\n          </Box>\n\n          <Typography color=\"text.secondary\" variant=\"body2\">\n            Status\n          </Typography>\n          <Box\n            sx={{\n              mt: 1,\n              color: statusColor(node.status),\n              display: 'flex',\n              alignItems: 'center',\n            }}\n          >\n            {(() => {\n              switch (node.status) {\n                case 'RUNNING':\n                  return <CircularProgress size=\"1rem\" />\n                case 'COMPLETED':\n                  return <CheckCircleOutline />\n                case 'FAILED':\n                  return <WarningAmber />\n                case 'CANCELLED':\n                  return <CancelOutlined />\n                default:\n                  return null\n              }\n            })()}\n            &nbsp;\n            {statusLabel(node.status)}\n          </Box>\n\n          <ErrorCard error={node.error} />\n\n          {node.doc && (\n            <>\n              <Heading>Description</Heading>\n              <Typography>{node.doc}</Typography>\n            </>\n          )}\n\n          {hasStarted && (\n            <>\n              <Heading>Started{hasEnded ? ' - Ended' : ''}</Heading>\n              <Typography>\n                {formatDate(node.start_time)}\n                {hasEnded && `- ${formatDate(node.end_time)}`}\n              </Typography>\n            </>\n          )}\n\n          <Heading />\n          <Paper elevation={4}>\n            <SyntaxHighlighter src={src} />\n          </Paper>\n\n          <Divider sx={{ my: 2 }} />\n\n          {node.status !== 'NEW_OBJECT' && (\n            <>\n              <Heading>Runtime</Heading>\n              <Runtime startTime={node.start_time} endTime={node.end_time} />\n            </>\n          )}\n\n          <ExecutorSection metadata={_.get(node, 'metadata')} />\n\n          {node.status === 'COMPLETED' && (\n            <>\n              <Heading>Result</Heading>\n              <Paper elevation={4}>\n                <SyntaxHighlighter language=\"python\" src={node.output} />\n              </Paper>\n            </>\n          )}\n\n          {/* Input */}\n          <InputSection inputs={node.kwargs} />\n        </>\n      )}\n    </Drawer>\n  )\n}\n\nexport default NodeDrawer\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { AppBar, Box, Drawer, IconButton, Toolbar } from '@mui/material'\nimport { Menu as MenuIcon } from '@mui/icons-material'\nimport { useStoreActions, useStoreState } from 'react-flow-renderer'\n\nimport LatticeMain from './LatticeMain'\nimport LatticeDrawer from './LatticeDrawer'\nimport NodeDrawer, { nodeDrawerWidth } from './NodeDrawer'\nimport { ReactComponent as Logo } from '../../assets/covalent-full-logo.svg'\nimport { fetchResult } from '../../redux/resultsSlice'\n\nconst drawerWidth = 400\n\nconst ResultLayout = () => {\n  const { dispatchId } = useParams()\n  const result = useSelector((state) => state.results.cache[dispatchId])\n\n  const selectedElectron = useStoreState((state) =>\n    _.find(state.selectedElements, { type: 'electron' })\n  )\n  const setSelectedElements = useStoreActions(\n    (actions) => actions.setSelectedElements\n  )\n\n  const [latticeDrawerOpen, setLatticeDrawerOpen] = useState(false)\n\n  const handleLatticeDrawerToggle = () => {\n    setLatticeDrawerOpen(!latticeDrawerOpen)\n  }\n\n  // unselect on change of dispatch\n  useEffect(() => {\n    setSelectedElements([])\n  }, [dispatchId, setSelectedElements])\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (_.get(result, 'status') === 'RUNNING') {\n      dispatch(\n        fetchResult({\n          dispatchId: result.dispatch_id,\n          resultsDir: result.results_dir,\n        })\n      )\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatchId])\n\n  // TODO handle not found\n\n  return (\n    <>\n      <Box sx={{ display: 'flex' }}>\n        <Box sx={{ width: { md: drawerWidth }, flexShrink: { md: 0 } }}>\n          {/* Mobile drawer */}\n          <Drawer\n            variant=\"temporary\"\n            open={latticeDrawerOpen}\n            onClose={handleLatticeDrawerToggle}\n            ModalProps={{\n              // better performance on mobile toggle\n              keepMounted: true,\n            }}\n            sx={{\n              display: { xs: 'block', md: 'none' },\n              '& .MuiDrawer-paper': {\n                boxSizing: 'border-box',\n                width: drawerWidth,\n              },\n            }}\n          >\n            <LatticeDrawer />\n          </Drawer>\n\n          {/* Desktop drawer */}\n          <Drawer\n            variant=\"permanent\"\n            sx={{\n              display: { xs: 'none', md: 'block' },\n              '& .MuiDrawer-paper': {\n                boxSizing: 'border-box',\n                width: drawerWidth,\n                border: 'none',\n              },\n            }}\n            open\n          >\n            <AppBar position=\"static\" elevation={0}>\n              <Toolbar>\n                <Logo />\n              </Toolbar>\n            </AppBar>\n\n            <LatticeDrawer />\n          </Drawer>\n        </Box>\n\n        <Box\n          component=\"main\"\n          sx={{\n            flexGrow: 1,\n            // width: { md: `calc(100% - ${drawerWidth}px)` },\n            height: '100vh',\n            marginRight: `-${nodeDrawerWidth}px`,\n            ...(!!selectedElectron && {\n              marginRight: 0,\n            }),\n          }}\n        >\n          <AppBar\n            position=\"static\"\n            sx={{ display: { xs: 'block', md: 'none' } }}\n          >\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                edge=\"start\"\n                onClick={handleLatticeDrawerToggle}\n                sx={{ mr: 2 }}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Logo />\n            </Toolbar>\n          </AppBar>\n\n          <LatticeMain hasSelectedNode={!!selectedElectron} />\n        </Box>\n\n        <NodeDrawer\n          dispatchId={dispatchId}\n          nodeId={_.get(selectedElectron, 'id')}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport default ResultLayout\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport _ from 'lodash'\n\n/**\n * Demo mode switch based on build-time environment variable (see package.json).\n */\nexport const isDemo = _.toLower(process.env.REACT_APP_DEMO) === 'true'\n\nexport const demoEnhancer =\n  (createStore) => (reducer, initialState, enhancer) => {\n    return createStore(reducer, demoState, enhancer)\n  }\n\nexport const names = [\n  'df4601e7-7658-4a14-a860-f91a35a1b453',\n  'ba3c238c-cb92-48e8-b7b2-debeebe2e81a',\n  'fcd385e2-7881-4bcd-862c-2ac99706d2f9',\n  'b199afa5-301f-47d8-a8dc-fd78e1f5d08a',\n  'eb2549cc-e2d4-482b-ba9e-c1cb39d0eb1a',\n  '2537c3b0-c150-441b-81c6-844e3fd88ef3',\n]\n\nexport const result = {\n  dispatch_id: 'df4601e7-7658-4a14-a860-f91a35a1b453',\n  status: 'COMPLETED',\n  result: 0.3241872821704259,\n  start_time: '2022-01-25T20:13:07.184270+00:00',\n  end_time: '2022-01-25T20:13:20.531358+00:00',\n  results_dir: '/home/valentin/code/agnostiq/examples/results',\n  lattice: {\n    function_string:\n      '# @ct.lattice(backend=executor1)\\ndef compute_energy(initial_height=3, distance=1.10):\\n    N2 = construct_n_molecule(d=distance)\\n    e_N2 = compute_system_energy(system=N2)\\n\\n    slab = construct_cu_slab(unit_cell=(4, 4, 2), vacuum=10.0)\\n    e_slab = compute_system_energy(system=slab)\\n\\n    relaxed_slab = get_relaxed_slab(slab=slab, molecule=N2, height=initial_height)\\n    e_relaxed_slab = compute_system_energy(system=relaxed_slab)\\n    final_result = e_slab + e_N2 - e_relaxed_slab\\n\\n    return final_result\\n\\n\\n',\n    doc: null,\n    name: 'compute_energy',\n    kwargs: { initial_height: '3', distance: '1.1' },\n    metadata: {\n      backend: '<LocalExecutor>',\n      dispatcher: '0.0.0.0:48008',\n      results_dir: '/home/valentin/code/agnostiq/examples/results',\n      executor: {\n        log_stdout: '/tmp/results/log_stdout.txt',\n        log_stderr: '/tmp/results/log_stderr.txt',\n        conda_env: 'covalent',\n        cache_dir: '',\n        current_env_on_conda_fail: 'True',\n        current_env: '',\n      },\n    },\n  },\n  graph: {\n    nodes: [\n      {\n        name: 'construct_n_molecule',\n        kwargs: { d: '1.1' },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout.txt',\n            log_stderr: '/tmp/results/log_stderr.txt',\n            conda_env: 'covalent',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# @ct.electron\\ndef construct_n_molecule(d=0):\\n    return Atoms(\"2N\", positions=[(0.0, 0.0, 0.0), (0.0, 0.0, d)])\\n\\n\\n',\n        start_time: '2022-01-25T20:13:07.194613+00:00',\n        end_time: '2022-01-25T20:13:08.539967+00:00',\n        status: 'COMPLETED',\n        output: \"Atoms(symbols='N2', pbc=False, calculator=EMT(...))\",\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c18f0ac0>',\n          execution_args: {},\n        },\n        id: 0,\n        doc: null,\n      },\n      {\n        name: ':parameter:1.1',\n        kwargs: { d: '1.1' },\n        metadata: {\n          schedule: false,\n          num_cpu: 1,\n          cpu_feature_set: [],\n          num_gpu: 0,\n          gpu_type: '',\n          gpu_compute_capability: [],\n          memory: '1G',\n          backend: 'local',\n          time_limit: '00-00:00:00',\n          budget: 0,\n          conda_env: '',\n          executor: {\n            log_stdout: 'stdout.log',\n            log_stderr: 'stderr.log',\n            conda_env: '',\n            cache_dir: '/tmp/covalent',\n            current_env_on_conda_fail: 'False',\n            current_env: '',\n          },\n        },\n        start_time: '2022-01-25T20:13:07.184559+00:00',\n        end_time: '2022-01-25T20:13:07.184568+00:00',\n        status: 'COMPLETED',\n        output: 1.1,\n        error: null,\n        sublattice_result: null,\n        stdout: null,\n        stderr: null,\n        id: 1,\n        doc: null,\n      },\n      {\n        name: 'compute_system_energy',\n        kwargs: {\n          system: \"Atoms(symbols='N2', pbc=False, calculator=EMT(...))\",\n        },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout2.txt',\n            log_stderr: '/tmp/results/log_stderr2.txt',\n            conda_env: '',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# @ct.electron(backend=executor2)\\ndef compute_system_energy(system):\\n    system.calc = EMT()\\n    return system.get_potential_energy()\\n\\n\\n',\n        start_time: '2022-01-25T20:13:08.641523+00:00',\n        end_time: '2022-01-25T20:13:08.749618+00:00',\n        status: 'COMPLETED',\n        output: 0.44034357303561467,\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c8036bb0>',\n          execution_args: {},\n        },\n        id: 2,\n        doc: null,\n      },\n      {\n        name: 'construct_cu_slab',\n        kwargs: { unit_cell: '(4, 4, 2)', vacuum: '10.0' },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout.txt',\n            log_stderr: '/tmp/results/log_stderr.txt',\n            conda_env: 'covalent',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# @ct.electron(backend=executor1)\\ndef construct_cu_slab(\\n    unit_cell=(4, 4, 2), vacuum=10.0,\\n):\\n    slab = fcc111(\"Cu\", size=unit_cell, vacuum=vacuum)\\n    return slab\\n\\n\\n',\n        start_time: '2022-01-25T20:13:07.194813+00:00',\n        end_time: '2022-01-25T20:13:08.600670+00:00',\n        status: 'COMPLETED',\n        output:\n          \"Atoms(symbols='Cu32N2', pbc=[True, True, False], cell=[[10.210621920333747, 0.0, 0.0], [5.105310960166873, 8.842657971447272, 0.0], [0.0, 0.0, 22.08423447177455]], tags=..., constraint=FixAtoms(indices=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]), calculator=EMT(...))\",\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c18f0ac0>',\n          execution_args: {},\n        },\n        id: 3,\n        doc: null,\n      },\n      {\n        name: ':parameter:(4, 4, 2)',\n        kwargs: { unit_cell: '(4, 4, 2)' },\n        metadata: {\n          schedule: false,\n          num_cpu: 1,\n          cpu_feature_set: [],\n          num_gpu: 0,\n          gpu_type: '',\n          gpu_compute_capability: [],\n          memory: '1G',\n          backend: 'local',\n          time_limit: '00-00:00:00',\n          budget: 0,\n          conda_env: '',\n          executor: {\n            log_stdout: 'stdout.log',\n            log_stderr: 'stderr.log',\n            conda_env: '',\n            cache_dir: '/tmp/covalent',\n            current_env_on_conda_fail: 'False',\n            current_env: '',\n          },\n        },\n        start_time: '2022-01-25T20:13:07.184603+00:00',\n        end_time: '2022-01-25T20:13:07.184608+00:00',\n        status: 'COMPLETED',\n        output: [4, 4, 2],\n        error: null,\n        sublattice_result: null,\n        stdout: null,\n        stderr: null,\n        id: 4,\n        doc: null,\n      },\n      {\n        name: ':parameter:10.0',\n        kwargs: { vacuum: '10.0' },\n        metadata: {\n          schedule: false,\n          num_cpu: 1,\n          cpu_feature_set: [],\n          num_gpu: 0,\n          gpu_type: '',\n          gpu_compute_capability: [],\n          memory: '1G',\n          backend: 'local',\n          time_limit: '00-00:00:00',\n          budget: 0,\n          conda_env: '',\n          executor: {\n            log_stdout: 'stdout.log',\n            log_stderr: 'stderr.log',\n            conda_env: '',\n            cache_dir: '/tmp/covalent',\n            current_env_on_conda_fail: 'False',\n            current_env: '',\n          },\n        },\n        start_time: '2022-01-25T20:13:07.184635+00:00',\n        end_time: '2022-01-25T20:13:07.184640+00:00',\n        status: 'COMPLETED',\n        output: 10.0,\n        error: null,\n        sublattice_result: null,\n        stdout: null,\n        stderr: null,\n        id: 5,\n        doc: null,\n      },\n      {\n        name: 'compute_system_energy',\n        kwargs: {\n          system:\n            \"Atoms(symbols='Cu32N2', pbc=[True, True, False], cell=[[10.210621920333747, 0.0, 0.0], [5.105310960166873, 8.842657971447272, 0.0], [0.0, 0.0, 22.08423447177455]], tags=..., constraint=FixAtoms(indices=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]), calculator=EMT(...))\",\n        },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout2.txt',\n            log_stderr: '/tmp/results/log_stderr2.txt',\n            conda_env: '',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# @ct.electron(backend=executor2)\\ndef compute_system_energy(system):\\n    system.calc = EMT()\\n    return system.get_potential_energy()\\n\\n\\n',\n        start_time: '2022-01-25T20:13:08.641030+00:00',\n        end_time: '2022-01-25T20:13:08.843983+00:00',\n        status: 'COMPLETED',\n        output: 11.509056283570393,\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c8036bb0>',\n          execution_args: {},\n        },\n        id: 6,\n        doc: null,\n      },\n      {\n        name: 'get_relaxed_slab',\n        kwargs: {\n          slab: \"Atoms(symbols='Cu32N2', pbc=[True, True, False], cell=[[10.210621920333747, 0.0, 0.0], [5.105310960166873, 8.842657971447272, 0.0], [0.0, 0.0, 22.08423447177455]], tags=..., constraint=FixAtoms(indices=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]), calculator=EMT(...))\",\n          molecule: \"Atoms(symbols='N2', pbc=False, calculator=EMT(...))\",\n          height: '3',\n        },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout.txt',\n            log_stderr: '/tmp/results/log_stderr.txt',\n            conda_env: 'covalent',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# @ct.electron\\ndef get_relaxed_slab(slab, molecule, height=1.85):\\n    slab.calc = EMT()\\n    add_adsorbate(slab, molecule, height, \"ontop\")\\n    constraint = FixAtoms(mask=[a.symbol != \"N\" for a in slab])\\n    slab.set_constraint(constraint)\\n    dyn = QuasiNewton(slab, trajectory=\"/tmp/N2Cu.traj\", logfile=\"/tmp/temp\")\\n    dyn.run(fmax=0.01)\\n    return slab\\n\\n\\n',\n        start_time: '2022-01-25T20:13:08.636238+00:00',\n        end_time: '2022-01-25T20:13:14.601058+00:00',\n        status: 'COMPLETED',\n        output:\n          \"Atoms(symbols='Cu32N2', pbc=[True, True, False], cell=[[10.210621920333747, 0.0, 0.0], [5.105310960166873, 8.842657971447272, 0.0], [0.0, 0.0, 22.08423447177455]], tags=..., constraint=FixAtoms(indices=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]), calculator=EMT(...))\",\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c18f0ac0>',\n          execution_args: {},\n        },\n        id: 7,\n        doc: null,\n      },\n      {\n        name: ':parameter:3',\n        kwargs: { height: '3' },\n        metadata: {\n          schedule: false,\n          num_cpu: 1,\n          cpu_feature_set: [],\n          num_gpu: 0,\n          gpu_type: '',\n          gpu_compute_capability: [],\n          memory: '1G',\n          backend: 'local',\n          time_limit: '00-00:00:00',\n          budget: 0,\n          conda_env: '',\n          executor: {\n            log_stdout: 'stdout.log',\n            log_stderr: 'stderr.log',\n            conda_env: '',\n            cache_dir: '/tmp/covalent',\n            current_env_on_conda_fail: 'False',\n            current_env: '',\n          },\n        },\n        start_time: '2022-01-25T20:13:07.184667+00:00',\n        end_time: '2022-01-25T20:13:07.184672+00:00',\n        status: 'COMPLETED',\n        output: 3,\n        error: null,\n        sublattice_result: null,\n        stdout: null,\n        stderr: null,\n        id: 8,\n        doc: null,\n      },\n      {\n        name: 'compute_system_energy',\n        kwargs: {\n          system:\n            \"Atoms(symbols='Cu32N2', pbc=[True, True, False], cell=[[10.210621920333747, 0.0, 0.0], [5.105310960166873, 8.842657971447272, 0.0], [0.0, 0.0, 22.08423447177455]], tags=..., constraint=FixAtoms(indices=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]), calculator=EMT(...))\",\n        },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout2.txt',\n            log_stderr: '/tmp/results/log_stderr2.txt',\n            conda_env: '',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# @ct.electron(backend=executor2)\\ndef compute_system_energy(system):\\n    system.calc = EMT()\\n    return system.get_potential_energy()\\n\\n\\n',\n        start_time: '2022-01-25T20:13:14.709556+00:00',\n        end_time: '2022-01-25T20:13:15.267267+00:00',\n        status: 'COMPLETED',\n        output: 11.625212574435581,\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c8036bb0>',\n          execution_args: {},\n        },\n        id: 9,\n        doc: null,\n      },\n      {\n        name: 'compute_system_energy_+_compute_system_energy',\n        kwargs: { arg_1: '11.509056283570393', arg_2: '0.44034357303561467' },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout.txt',\n            log_stderr: '/tmp/results/log_stderr.txt',\n            conda_env: 'covalent',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# compute_system_energy_+_compute_system_energy was not inspectable\\n\\n',\n        start_time: '2022-01-25T20:13:14.702711+00:00',\n        end_time: '2022-01-25T20:13:17.712509+00:00',\n        status: 'COMPLETED',\n        output: 11.949399856606007,\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c18f0ac0>',\n          execution_args: {},\n        },\n        id: 10,\n        doc: '\\n            Intermediate function for the binary operation.\\n\\n            Args:\\n                arg_1: First operand\\n                arg_2: Second operand\\n\\n            Returns:\\n                result: Result of the binary operation.\\n            ',\n      },\n      {\n        name: 'compute_system_energy_+_compute_system_energy_-_compute_system_energy',\n        kwargs: { arg_1: '11.949399856606007', arg_2: '11.625212574435581' },\n        metadata: {\n          backend: '<LocalExecutor>',\n          executor: {\n            log_stdout: '/tmp/results/log_stdout.txt',\n            log_stderr: '/tmp/results/log_stderr.txt',\n            conda_env: 'covalent',\n            cache_dir: '',\n            current_env_on_conda_fail: 'True',\n            current_env: '',\n          },\n        },\n        function_string:\n          '# compute_system_energy_+_compute_system_energy_-_compute_system_energy was not inspectable\\n\\n',\n        start_time: '2022-01-25T20:13:17.762343+00:00',\n        end_time: '2022-01-25T20:13:20.495661+00:00',\n        status: 'COMPLETED',\n        output: 0.3241872821704259,\n        error: null,\n        sublattice_result: null,\n        stdout: '',\n        stderr: '',\n        exec_plan: {\n          selected_executor:\n            '</home/valentin/code/agnostiq/covalent-staging/covalent/executor/executor_plugins/local.LocalExecutor object at 0x7f10c18f0ac0>',\n          execution_args: {},\n        },\n        id: 11,\n        doc: '\\n            Intermediate function for the binary operation.\\n\\n            Args:\\n                arg_1: First operand\\n                arg_2: Second operand\\n\\n            Returns:\\n                result: Result of the binary operation.\\n            ',\n      },\n    ],\n    links: [\n      { variable: 'system', source: 0, target: 2 },\n      { variable: 'molecule', source: 0, target: 7 },\n      { variable: 'd', source: 1, target: 0 },\n      { variable: 'arg_2', source: 2, target: 10 },\n      { variable: 'system', source: 3, target: 6 },\n      { variable: 'slab', source: 3, target: 7 },\n      { variable: 'unit_cell', source: 4, target: 3 },\n      { variable: 'vacuum', source: 5, target: 3 },\n      { variable: 'arg_1', source: 6, target: 10 },\n      { variable: 'system', source: 7, target: 9 },\n      { variable: 'height', source: 8, target: 7 },\n      { variable: 'arg_2', source: 9, target: 11 },\n      { variable: 'arg_1', source: 10, target: 11 },\n    ],\n  },\n}\n\n/**\n * Used as redux store preloaded state for static demo.\n *\n */\nexport const demoState = {\n  results: {\n    cache: _.keyBy(\n      _.map(names, (name) => ({ ...result, dispatch_id: name })),\n      'dispatch_id'\n    ),\n    fetchResult: { isFetching: false, error: null },\n  },\n}\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport io from 'socket.io-client'\n\nimport { isDemo } from './demo'\n\n/**\n * Establishes socket connection.\n */\nconst connect = () => {\n  if (isDemo) {\n    return {\n      on() {},\n      off() {},\n    }\n  }\n\n  const socket = io(process.env.REACT_APP_API_URL, {\n    // required for CORS\n    withCredentials: true,\n  })\n\n  socket.on('connect', () => {\n    console.debug(`socket ${socket.id} connected: ${socket.connected}`)\n  })\n\n  return socket\n}\n\nconst socket = connect()\n\nexport default socket\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport ThemeProvider from '@mui/system/ThemeProvider'\nimport { Helmet, HelmetProvider } from 'react-helmet-async'\nimport { Routes, Route } from 'react-router-dom'\n\nimport './App.css'\nimport Dashboard from './components/Dashboard'\nimport ResultLayout from './components/result/ResultLayout'\nimport socket from './utils/socket'\nimport { fetchResult } from './redux/resultsSlice'\nimport theme from './utils/theme'\nimport { ReactFlowProvider } from 'react-flow-renderer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const onUpdate = (update) => {\n      dispatch(\n        fetchResult({\n          dispatchId: update.result.dispatch_id,\n          resultsDir: update.result.results_dir,\n        })\n      )\n    }\n\n    socket.on('result-update', onUpdate)\n    return () => {\n      socket.off('result-update', onUpdate)\n    }\n  }, [dispatch])\n\n  return (\n    <HelmetProvider>\n      <ReactFlowProvider>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <Helmet defaultTitle=\"Covalent\" titleTemplate=\"%s - Covalent\" />\n          <Routes>\n            <Route path=\"/\" element={<Dashboard />} />\n            <Route path=\"/:dispatchId\" element={<ResultLayout />} />\n          </Routes>\n        </ThemeProvider>\n      </ReactFlowProvider>\n    </HelmetProvider>\n  )\n}\n\nexport default App\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { resultsSlice } from './resultsSlice'\n\nconst reducers = {\n  results: resultsSlice.reducer,\n}\n\nexport default reducers\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport configureAppStore from './redux/store'\n\nconst store = configureAppStore()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","/**\n * Copyright 2021 Agnostiq Inc.\n *\n * This file is part of Covalent.\n *\n * Licensed under the GNU Affero General Public License 3.0 (the \"License\").\n * A copy of the License may be obtained with this software package or at\n *\n *      https://www.gnu.org/licenses/agpl-3.0.en.html\n *\n * Use of this file is prohibited except in compliance with the License. Any\n * modifications or derivative works of this file must retain this copyright\n * notice, and modified files must contain a notice indicating that they have\n * been altered from the originals.\n *\n * Covalent is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the License for more details.\n *\n * Relief from the License may be granted by purchasing a commercial license.\n */\n\nimport { configureStore } from '@reduxjs/toolkit'\nimport persistState from 'redux-localstorage'\n\nimport rootReducer from './reducers'\nimport { isDemo, demoEnhancer } from '../utils/demo'\n\nexport default function configureAppStore(preloadedState) {\n  const store = configureStore({\n    reducer: rootReducer,\n    preloadedState,\n    enhancers: [\n      // persist state across sessions except for demo\n      isDemo ? demoEnhancer : persistState(),\n    ],\n  })\n\n  if (process.env.NODE_ENV !== 'production' && module.hot) {\n    module.hot.accept('./reducers', () => {\n      store.replaceReducer(rootReducer)\n    })\n  }\n\n  return store\n}\n"],"sourceRoot":""}
